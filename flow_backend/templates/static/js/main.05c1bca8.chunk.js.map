{"version":3,"sources":["shortcut.js","BinaryHeap.js","svg/icons.js","components/Card/Card.js","components/Column/Column.js","components/DisplayedCard/DisplayedCard.js","components/Board/Board.js","utilities.js","components/CSRFToken/CSRFToken.js","components/Login/Login.js","User.js","lorem_ipsum.js","index.js"],"names":["exports","name","shortcut","shortcut_combination","callback","opt","default_options","document","dfo","ele","target","getElementById","toLowerCase","func","e","element","code","window","event","srcElement","nodeType","parentNode","tagName","keyCode","which","character","String","fromCharCode","keys","split","kp","shift_nums","special_keys","modifiers","shift","wanted","pressed","ctrl","alt","meta","ctrlKey","shiftKey","altKey","metaKey","i","length","k","cancelBubble","returnValue","stopPropagation","preventDefault","this","all_shortcuts","addEventListener","attachEvent","binding","type","detachEvent","removeEventListener","BinaryHeap","heap","size","value","push","bubbleUp","min","pop","sinkDown","index","parentIndex","Math","floor","parent","left","right","largest","ICON_DESCRIPTION","viewBox","strokeWidth","stroke","fill","x1","y1","x2","y2","ICON_PLUS","ICON_UNLOCKED","cx","cy","r","d","ICON_OPTIONS","style","width","ICON_CHECK","transform","ICON_CALENDAR","height","rx","x","y","ICON_SCHEDULLE","strokeLinecap","ICON_TAG","ICON_ADD_TAG","ICON_ASSIGNEES","ICON_ADD_USER","ICON_ARROW_RIGHT","ICON_DUPLICATE","ICON_ATTACH","ICON_SAVE_TEMPLATE","ICON_STAR","ICON_TRASH","ICON_INFO","ICON_SHARE","ry","ICON_BIN","ICON_COPY","ICON_CROSS","ICON_LINK","ICON_FORWARD","ICON_ARCHIVE","ICON_SUBSCRIBE","ICON_EDIT","Card","props","resize","large_number","renderTags","state","tags","ReactDOM","findDOMNode","getElementsByClassName","classList","remove","add","task_list","undefined","marginRight","taskList","assignees","column","id","description","updated_state","Object","assign","setState","cards","board","updateState","innerText","new_task","tasks","task","new_column","all_columns","columns","splice","indexOf","tag","assignee","class_name","rendered_tags","color","className","task_list_components","forEach","done","concat","data","to","onClick","displayCard","console","log","project_id","src","users","avatar","toString","large_tag_count","column_width","clientWidth","getElementsByTagName","font_size","small_tag_count","resizeFunction","archived","React","Component","defaultProps","creator","creation_date","Column","locked","addCard","types","onDrop","bind","children","next_id","card_id","card","DisplayedCard","descriptionSanitizeConf","allowedTags","allowedAttributes","a","nameSanitizeConf","descriptionComponent","createRef","nameComponent","j","checked","exitOnEnter","key","execCommand","blur","display","focus","select_column","column_id","hasOwnProperty","onChange","setColumn","parseInt","defaultChecked","htmlFor","points","onBlur","elem","setTask","contentEditable","onKeyDown","editContent","removeTask","removeTag","removeAssignee","add_btn_style","desc_style","innerRef","html","disabled","setDescription","sanitizeHtml","innerHTML","addDescription","evt","setName","archiveCard","preferences","warnOnDelete","dialog","deleteCard","checkbox","activeElement","require","Board","idCurrent","idAvailable","idReuseMode","displayedCard","max","first","getCardID","history","pushState","isEmpty","deleteCardID","location","pathname","match","replace","column_data","card_list","exact","path","getRandomInt","random","getCookie","cookieValue","cookie","cookies","trim","substring","decodeURIComponent","Login","handle_change","prevstate","newState","username","password","onSubmit","handle_login","required","autoComplete","User","mail","lorem_ipsum","theme","parseFloat","getComputedStyle","body","getPropertyValue","board_id","board_name","columns_json","cards_json","DEV","0","1","2","3","4","5","6","7","8","random_int","column_ids","card_ids","fetch","headers","Authorization","localStorage","getItem","then","res","json","result","is_private","catch","error","new_card","local_id","is_archived","App","method","JSON","stringify","setItem","token","logged_in","handle_signup","handle_logout","removeItem","setTimeout","render"],"mappings":"+JAOAA,EAAQC,KAAO,WAEfD,EAAQE,SAAW,CAClB,cAAgB,GAChB,IAAO,SAASC,EAAqBC,EAASC,GAE7C,IAAIC,EAAkB,CACrB,KAAO,UACP,WAAY,EACZ,kBAAmB,EACnB,OAASC,SACT,SAAU,GAEX,GAAIF,EAEH,IAAI,IAAIG,KAAOF,EACQ,oBAAZD,EAAIG,KAAqBH,EAAIG,GAAOF,EAAgBE,SAHvDH,EAAMC,EAOf,IAAIG,EAAMJ,EAAIK,OACU,iBAAdL,EAAIK,SAAoBD,EAAMF,SAASI,eAAeN,EAAIK,SACpEP,EAAuBA,EAAqBS,cAG5C,IAAIC,EAAO,SAASC,GAIlB,IAAIC,EAQDC,EATJ,IAFAF,EAAIA,GAAKG,OAAOC,MAEbb,EAAG,oBAEFS,EAAEJ,OAAQK,EAAQD,EAAEJ,OACfI,EAAEK,aAAYJ,EAAQD,EAAEK,YACV,IAAnBJ,EAAQK,WAAcL,EAAQA,EAAQM,YAElB,UAApBN,EAAQO,SAA2C,aAApBP,EAAQO,SAAwB,OAM/DR,EAAES,QAASP,EAAOF,EAAES,QACfT,EAAEU,QAAOR,EAAOF,EAAEU,OAC3B,IAAIC,EAAYC,OAAOC,aAAaX,GAAMJ,cAE9B,MAATI,IAAcS,EAAU,KACf,MAATT,IAAcS,EAAU,KAE3B,IAAIG,EAAOzB,EAAqB0B,MAAM,KAElCC,EAAK,EAGLC,EAAa,CAChB,IAAI,IACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,EAAI,IACJ,IAAI,IACJ,IAAI,IACJ,IAAI,IACJ,IAAI,IACJ,IAAI,IACJ,IAAI,IACJ,IAAI,IACJ,KAAK,KAGFC,EAAe,CAClB,IAAM,GACN,OAAS,GACT,IAAM,EACN,MAAQ,GACR,OAAS,GACT,MAAQ,GACR,UAAY,EAEZ,WAAa,IACb,YAAc,IACd,OAAS,IACT,SAAW,GACX,UAAY,GACZ,KAAO,GACP,QAAU,IACV,SAAW,IACX,IAAM,IAEN,MAAQ,GACR,MAAQ,GAER,OAAS,GACT,KAAO,GACP,OAAS,GACT,IAAM,GAEN,OAAS,GACT,QAAU,GACV,GAAK,GAEL,SAAW,GACX,UAAY,GACZ,GAAK,GAEL,KAAO,GACP,GAAK,GACL,MAAQ,GACR,KAAO,GAEP,GAAK,IACL,GAAK,IACL,GAAK,IACL,GAAK,IACL,GAAK,IACL,GAAK,IACL,GAAK,IACL,GAAK,IACL,GAAK,IACL,IAAM,IACN,IAAM,IACN,IAAM,KAGHC,EAAY,CACfC,MAAO,CAAEC,QAAO,EAAOC,SAAQ,GAC/BC,KAAO,CAAEF,QAAO,EAAOC,SAAQ,GAC/BE,IAAO,CAAEH,QAAO,EAAOC,SAAQ,GAC/BG,KAAO,CAAEJ,QAAO,EAAOC,SAAQ,IAG7BtB,EAAE0B,UAASP,EAAUI,KAAKD,SAAU,GACpCtB,EAAE2B,WAAUR,EAAUC,MAAME,SAAU,GACtCtB,EAAE4B,SAAQT,EAAUK,IAAIF,SAAU,GAClCtB,EAAE6B,UAAWV,EAAUM,KAAKH,SAAU,GAEzC,IAAI,IAAIQ,EAAE,EAAGA,EAAEhB,EAAKiB,OAAQD,IAAK,CAChC,IAAIE,EAAElB,EAAKgB,GAEF,SAANE,GAAsB,YAANA,GAClBhB,IACAG,EAAUI,KAAKF,QAAS,GAET,UAANW,GACThB,IACAG,EAAUC,MAAMC,QAAS,GAEV,QAANW,GACThB,IACAG,EAAUK,IAAIH,QAAS,GACR,SAANW,GACThB,IACAG,EAAUM,KAAKJ,QAAS,GACfW,EAAED,OAAS,EACjBb,EAAac,KAAO9B,GAAMc,IAEpBzB,EAAG,QACTA,EAAG,UAAgBW,GAAMc,KAGzBL,IAAcqB,GAEbf,EAAWN,IAAcX,EAAE2B,WAC7BhB,EAAYM,EAAWN,MACNqB,IAJChB,IAUtB,GAAGA,IAAOF,EAAKiB,QACZZ,EAAUI,KAAKD,UAAYH,EAAUI,KAAKF,QAC1CF,EAAUC,MAAME,UAAYH,EAAUC,MAAMC,QAC5CF,EAAUK,IAAIF,UAAYH,EAAUK,IAAIH,QACxCF,EAAUM,KAAKH,UAAYH,EAAUM,KAAKJ,SAC5C/B,EAASU,IAELT,EAAG,WAUN,OARAS,EAAEiC,cAAe,EACjBjC,EAAEkC,aAAc,EAGZlC,EAAEmC,kBACLnC,EAAEmC,kBACFnC,EAAEoC,mBAEI,GAIVC,KAAKC,cAAcjD,GAAwB,CAC1C,SAAWU,EACX,OAASJ,EACT,MAASJ,EAAG,MAGVI,EAAI4C,iBAAkB5C,EAAI4C,iBAAiBhD,EAAG,KAAUQ,GAAM,GACzDJ,EAAI6C,YAAa7C,EAAI6C,YAAY,KAAKjD,EAAG,KAAUQ,GACtDJ,EAAI,KAAKJ,EAAG,MAAYQ,GAI9B,OAAS,SAASV,GACjBA,EAAuBA,EAAqBS,cAC5C,IAAI2C,EAAUJ,KAAKC,cAAcjD,GAEjC,UADOgD,KAAKC,cAAcjD,GACtBoD,EAAJ,CACA,IAAIC,EAAOD,EAAO,MACd9C,EAAM8C,EAAO,OACbnD,EAAWmD,EAAO,SAEnB9C,EAAIgD,YAAahD,EAAIgD,YAAY,KAAKD,EAAMpD,GACvCK,EAAIiD,oBAAqBjD,EAAIiD,oBAAoBF,EAAMpD,GAAU,GACpEK,EAAI,KAAK+C,IAAQ,M,+HCjOHG,E,WAEnB,aAAe,oBACbR,KAAKS,KAAO,GACZT,KAAKU,KAAOV,KAAKS,KAAKf,O,iDAGnBiB,GACHX,KAAKS,KAAKG,KAAKD,GACfX,KAAKa,WACLb,KAAKU,KAAOV,KAAKS,KAAKf,S,gCAItB,OAA6B,IAArBM,KAAKS,KAAKf,S,4BAIlB,IAAIoB,EAAMd,KAAKS,KAAK,GASpB,OARyB,IAArBT,KAAKS,KAAKf,OACZM,KAAKS,KAAO,IAGZT,KAAKS,KAAK,GAAKT,KAAKS,KAAKM,MACzBf,KAAKgB,SAAS,IAEhBhB,KAAKU,KAAOV,KAAKS,KAAKf,OACfoB,I,iCAKP,IADA,IAAIG,EAAQjB,KAAKS,KAAKf,OAAS,EACxBuB,EAAQ,GAAG,CAChB,IAAIrD,EAAUoC,KAAKS,KAAKQ,GACpBC,EAAcC,KAAKC,OAAOH,EAAQ,GAAK,GACvCI,EAASrB,KAAKS,KAAKS,GACvB,GAAIG,GAAUzD,EACZ,MACFoC,KAAKS,KAAKQ,GAASI,EACnBrB,KAAKS,KAAKS,GAAetD,EACzBqD,EAAQC,K,+BAIHD,GACP,IAAIK,EAAO,EAAIL,EAAQ,EACnBM,EAAQ,EAAIN,EAAQ,EACpBO,EAAUP,EACRvB,EAASM,KAAKS,KAAKf,OAWzB,GARI4B,GAAQ5B,GAAUM,KAAKS,KAAKa,GAAQtB,KAAKS,KAAKe,KAChDA,EAAUF,GAGRC,GAAS7B,GAAUM,KAAKS,KAAKc,GAASvB,KAAKS,KAAKe,KAClDA,EAAUD,GAGRC,IAAYP,EAAO,CAAC,IAAD,EACoB,CAACjB,KAAKS,KAAKQ,GAAQjB,KAAKS,KAAKe,IAArExB,KAAKS,KAAKe,GADU,KACAxB,KAAKS,KAAKQ,GADV,KAErBjB,KAAKgB,SAASQ,Q,aC1DdC,EAAmB,yBAAKC,QAAQ,YAAYC,YAAY,IAAIC,OAAO,eAAeC,KAAK,QAAO,0BAAMC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,MAAM,0BAAMH,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OAAO,0BAAMH,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,QAC1MC,EAAY,yBAAKR,QAAQ,YAAYC,YAAY,IAAIC,OAAO,eAAeC,KAAK,QAAO,0BAAMC,GAAG,KAAKC,GAAG,IAAIC,GAAG,KAAKC,GAAG,OAAO,0BAAMH,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,QAC9JE,EAAgB,yBAAKT,QAAQ,YAAYC,YAAY,IAAIC,OAAO,eAAeC,KAAK,QAAO,4BAAQO,GAAG,KAAKC,GAAG,KAAKC,EAAE,UAAU,0BAAMC,EAAE,uEAAuE,0BAAMA,EAAE,uEAAuE,0BAAMT,GAAG,QAAQC,GAAG,QAAQC,GAAG,QAAQC,GAAG,UAAU,0BAAMH,GAAG,KAAKC,GAAG,OAAOC,GAAG,KAAKC,GAAG,UAAU,0BAAMH,GAAG,QAAQC,GAAG,QAAQC,GAAG,QAAQC,GAAG,UAAU,0BAAMH,GAAG,OAAOC,GAAG,QAAQC,GAAG,QAAQC,GAAG,WAC3dO,EAAe,yBAAKC,MAAO,CAAEC,MAAO,WAAahB,QAAQ,YAAYC,YAAY,IAAIC,OAAO,eAAeC,KAAK,QAAO,0BAAMC,GAAG,KAAKC,GAAG,IAAIC,GAAG,KAAKC,GAAG,MAAM,0BAAMH,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OAAO,0BAAMH,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,QAEtOU,EAAa,yBAAKhB,YAAY,IAAID,QAAQ,mBAAkB,uBAAGkB,UAAU,0BAAyB,4BAAQR,GAAG,IAAIC,GAAG,IAAIC,EAAE,IAAIT,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMY,EAAE,wCAAwCK,UAAU,6BAA6Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,WAC1TkB,EAAgB,yBAAKnB,QAAQ,mBAAkB,uBAAGkB,UAAU,qBAAqBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAO,0BAAMe,MAAM,KAAKI,OAAO,KAAKC,GAAG,OAAOnB,OAAO,eAAeD,YAAY,SAAS,0BAAMqB,EAAE,QAAQC,EAAE,QAAQP,MAAM,QAAQI,OAAO,QAAQC,GAAG,QAAQlB,KAAK,UAAa,0BAAMG,GAAG,KAAKY,UAAU,qBAAqBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMI,GAAG,QAAQa,UAAU,mBAAmBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMI,GAAG,QAAQa,UAAU,oBAAoBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,uBAAGiB,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAO,0BAAMe,MAAM,QAAQI,OAAO,QAAQlB,OAAO,SAAS,0BAAMoB,EAAE,QAAQC,EAAE,QAAQP,MAAM,QAAQI,OAAO,QAAQjB,KAAK,UAAa,uBAAGe,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAO,0BAAMe,MAAM,QAAQI,OAAO,QAAQlB,OAAO,SAAS,0BAAMoB,EAAE,QAAQC,EAAE,QAAQP,MAAM,QAAQI,OAAO,QAAQjB,KAAK,UAAa,uBAAGe,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAO,0BAAMe,MAAM,QAAQI,OAAO,QAAQlB,OAAO,SAAS,0BAAMoB,EAAE,QAAQC,EAAE,QAAQP,MAAM,QAAQI,OAAO,QAAQjB,KAAK,UAAa,uBAAGe,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAO,0BAAMe,MAAM,QAAQI,OAAO,QAAQlB,OAAO,SAAS,0BAAMoB,EAAE,QAAQC,EAAE,QAAQP,MAAM,QAAQI,OAAO,QAAQjB,KAAK,UAAa,uBAAGe,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAO,0BAAMe,MAAM,QAAQI,OAAO,QAAQlB,OAAO,SAAS,0BAAMoB,EAAE,QAAQC,EAAE,QAAQP,MAAM,QAAQI,OAAO,QAAQjB,KAAK,UAAa,uBAAGe,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAO,0BAAMe,MAAM,QAAQI,OAAO,QAAQlB,OAAO,SAAS,0BAAMoB,EAAE,QAAQC,EAAE,QAAQP,MAAM,QAAQI,OAAO,QAAQjB,KAAK,WAC51DqB,EAAiB,yBAAKvB,YAAY,IAAID,QAAQ,mBAAkB,uBAAGkB,UAAU,wBAAuB,0BAAML,EAAE,iHAAiHK,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,QAAQ,0BAAMK,GAAG,SAASY,UAAU,oBAAoBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,QAAQ,0BAAMI,GAAG,QAAQa,UAAU,mBAAmBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,QAAQ,0BAAMI,GAAG,QAAQa,UAAU,oBAAoBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,QAAQ,4BAAQS,GAAG,QAAQC,GAAG,QAAQC,EAAE,QAAQM,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,QAAQ,0BAAMY,EAAE,gCAAgCK,UAAU,6BAA6Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,UACx+ByB,EAAW,yBAAKzB,YAAY,IAAID,QAAQ,mBAAkB,uBAAGkB,UAAU,wBAAuB,uBAAGA,UAAU,yBAAyBf,KAAK,OAAOsB,cAAc,UAAS,0BAAMZ,EAAE,uLAAuLX,OAAO,SAAS,0BAAMW,EAAE,y4EAAy4EX,OAAO,OAAOC,KAAK,kBAAqB,uBAAGe,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,QAAO,4BAAQS,GAAG,QAAQC,GAAG,QAAQC,EAAE,QAAQV,OAAO,SAAS,4BAAQQ,GAAG,QAAQC,GAAG,QAAQC,EAAE,QAAQT,KAAK,YACrgGwB,EAAe,yBAAK1B,YAAY,IAAID,QAAQ,aAAY,uBAAGkB,UAAU,kBAAiB,uBAAGf,KAAK,OAAOD,OAAO,eAAeD,YAAY,OAAM,0BAAMe,MAAM,KAAKI,OAAO,KAAKlB,OAAO,SAAS,0BAAMoB,EAAE,KAAKC,EAAE,KAAKP,MAAM,KAAKI,OAAO,KAAKjB,KAAK,UAAa,uBAAGe,UAAU,kBAAiB,0BAAMX,GAAG,KAAKW,UAAU,eAAef,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMK,GAAG,KAAKY,UAAU,iBAAiBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,WACzc2B,EAAiB,yBAAK3B,YAAY,IAAID,QAAQ,mBAAkB,uBAAGkB,UAAU,wBAAuB,4BAAQR,GAAG,OAAOC,GAAG,OAAOC,EAAE,OAAOM,UAAU,mBAAmBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,QAAQ,0BAAMY,EAAE,6EAA6EK,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,QAAQ,4BAAQS,GAAG,QAAQC,GAAG,QAAQC,EAAE,QAAQM,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,QAAQ,0BAAMY,EAAE,gFAAgFK,UAAU,6BAA6Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,UACvxB4B,EAAgB,yBAAK5B,YAAY,IAAID,QAAQ,aAAY,uBAAGG,KAAK,OAAOD,OAAO,eAAeD,YAAY,OAAM,4BAAQS,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKV,OAAO,SAAS,4BAAQQ,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKT,KAAK,UAAa,uBAAGe,UAAU,oBAAmB,0BAAMX,GAAG,KAAKW,UAAU,eAAef,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMK,GAAG,KAAKY,UAAU,iBAAiBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,UACpa6B,EAAmB,yBAAK9B,QAAQ,oBAAmB,uBAAGkB,UAAU,sBAAqB,0BAAMd,GAAG,KAAKc,UAAU,qBAAqBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMY,EAAE,wCAAwCK,UAAU,4BAA4Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,WAC7T8B,EAAiB,yBAAK/B,QAAQ,qBAAoB,uBAAGkB,UAAU,0BAAyB,0BAAMF,MAAM,SAASI,OAAO,SAASC,GAAG,OAAOH,UAAU,qBAAqBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,SAAS,0BAAMY,EAAE,4HAA4HK,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,WACle+B,EAAc,yBAAKhC,QAAQ,qBAAoB,0BAAMa,EAAE,sQAAsQK,UAAU,4BAA4Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SACjZgC,EAAqB,yBAAKjC,QAAQ,mBAAkB,uBAAGkB,UAAU,wBAAuB,0BAAML,EAAE,gDAAgDK,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMY,EAAE,4BAA4BK,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMK,GAAG,QAAQY,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMK,GAAG,QAAQY,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMK,GAAG,QAAQY,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMK,GAAG,QAAQY,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,4BAAQS,GAAG,QAAQC,GAAG,QAAQC,EAAE,QAAQM,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMM,GAAG,QAAQW,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMK,GAAG,QAAQY,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,UAClmCiC,EAAY,yBAAKlC,QAAQ,oBAAmB,0BAAMa,EAAE,gWAAgWK,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,UACvekC,EAAa,yBAAKnC,QAAQ,iBAAgB,uBAAGkB,UAAU,kBAAiB,0BAAML,EAAE,2GAA2GK,UAAU,4BAA4Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMY,EAAE,iKAAiKK,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMM,GAAG,SAASW,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMM,GAAG,SAASW,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMM,GAAG,SAASW,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMY,EAAE,iFAAiFK,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,UAC5gCmC,EAAY,yBAAKpC,QAAQ,aAAY,uBAAGkB,UAAU,kBAAiB,0BAAMb,GAAG,QAAQa,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,SAAS,0BAAMI,GAAG,QAAQC,GAAG,MAAMY,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,SAAS,4BAAQS,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKT,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,WACpboC,EAAa,yBAAKrC,QAAQ,iBAAgB,uBAAGkB,UAAU,kBAAiB,6BAASR,GAAG,QAAQC,GAAG,QAAQU,GAAG,QAAQiB,GAAG,QAAQpB,UAAU,oBAAoBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,6BAASS,GAAG,QAAQC,GAAG,QAAQU,GAAG,QAAQiB,GAAG,QAAQpB,UAAU,sBAAsBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,6BAASS,GAAG,QAAQC,GAAG,QAAQU,GAAG,QAAQiB,GAAG,QAAQpB,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMI,GAAG,QAAQC,GAAG,SAASY,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMK,GAAG,SAASC,GAAG,QAAQW,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,WACrtBsC,EAAW,yBAAKvC,QAAQ,iBAAgB,uBAAGkB,UAAU,kBAAiB,0BAAML,EAAE,2GAA2GK,UAAU,4BAA4Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMY,EAAE,iKAAiKK,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMM,GAAG,SAASW,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMM,GAAG,SAASW,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMM,GAAG,SAASW,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QAAQ,0BAAMY,EAAE,iFAAiFK,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,UAC1gCuC,EAAY,yBAAKxC,QAAQ,qBAAoB,uBAAGkB,UAAU,0BAAyB,0BAAMF,MAAM,SAASI,OAAO,SAASC,GAAG,OAAOH,UAAU,qBAAqBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,QAAQ,0BAAMY,EAAE,4HAA4HK,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,SAASxB,YAAY,UAC5dwC,EAAa,yBAAKzC,QAAQ,qBAAoB,uBAAGkB,UAAU,0BAAyB,0BAAMZ,GAAG,SAASC,GAAG,KAAKJ,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMG,GAAG,SAASG,GAAG,KAAKW,UAAU,mBAAmBf,KAAK,OAAOD,OAAO,eAAeD,YAAY,WAC1QyC,EAAY,yBAAK1C,QAAQ,oBAAmB,uBAAGkB,UAAU,0BAAyB,2BAAG,0BAAML,EAAE,4yBAA4yBK,UAAU,mBAAmBhB,OAAO,eAAeC,KAAK,eAAeF,YAAY,WAC59B0C,EAAe,yBAAK3C,QAAQ,qBAAoB,uBAAGkB,UAAU,0BAAyB,0BAAML,EAAE,gGAAgGK,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMY,EAAE,6KAA6KK,UAAU,4BAA4Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,SAAS,0BAAMY,EAAE,4GAA4GK,UAAU,6BAA6Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,WACrvB2C,EAAe,yBAAK5C,QAAQ,eAAc,uBAAGkB,UAAU,wBAAuB,0BAAML,EAAE,iRAAiRK,UAAU,sBAAsBhB,OAAO,eAAeC,KAAK,eAAeF,YAAY,QAAQ,0BAAMY,EAAE,yJAAyJK,UAAU,8BAA8BhB,OAAO,eAAeC,KAAK,eAAeF,YAAY,UACpsB4C,EAAiB,yBAAK7C,QAAQ,kBAAiB,uBAAGkB,UAAU,wBAAuB,0BAAML,EAAE,qJAAqJK,UAAU,yBAAyBf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,SAAS,0BAAMY,EAAE,mDAAmDK,UAAU,2BAA2Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,SAAS,0BAAMY,EAAE,0CAA0CK,UAAU,6BAA6Bf,KAAK,OAAOD,OAAO,eAAeuB,cAAc,QAAQxB,YAAY,WAC1qB6C,EAAY,yBAAK9C,QAAQ,qBAAoB,uBAAGkB,UAAU,sBAAqB,0BAAML,EAAE,+LAA+LK,UAAU,6BAA6Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,MAAK,0BAAMK,GAAG,QAAQC,GAAG,QAAQW,UAAU,0BAA0Bf,KAAK,OAAOD,OAAO,eAAeD,YAAY,QCtB9d8C,E,kDAEJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAgKRC,OAAS,WAGP,IAFA,IAAIC,EAAe,EAAKC,aACpBpF,EAAI,EACDA,GAAK,EAAKqF,MAAMC,KAAKrF,QACtBD,EAAImF,EAAe,IACrBI,IAASC,YAAT,gBAA2BC,uBAAuB,cAAczF,EAAI,GAAG0F,UAAUC,OAAO,aACxFJ,IAASC,YAAT,gBAA2BC,uBAAuB,cAAczF,EAAI,GAAG0F,UAAUE,IAAI,eAGrFL,IAASC,YAAT,gBAA2BC,uBAAuB,cAAczF,EAAI,GAAG0F,UAAUC,OAAO,aACxFJ,IAASC,YAAT,gBAA2BC,uBAAuB,cAAczF,EAAI,GAAG0F,UAAUE,IAAI,cAEvF5F,IAEF,IAAI6F,EAAYN,IAASC,YAAT,gBAA2BC,uBAAuB,aAAa,QAC9DK,IAAdD,IACDA,EAAU7C,MAAM+C,aAAe,EAAKV,MAAMW,SAAS/F,OAAS,EAAI,KAAO,GAAgD,IAA3CyB,KAAKL,IAAI,EAAG,EAAKgE,MAAMY,UAAUhG,QAAgB,QA/K/H,EAAK5C,KAAO4H,EAAM5H,KAClB,EAAK6I,OAASjB,EAAMiB,OACpB,EAAKC,GAAKlB,EAAMkB,GAChB,EAAKd,MAAQ,CACXhI,KAAM4H,EAAM5H,KACZiI,KAAML,EAAMK,KACZY,OAAQjB,EAAMiB,OACdD,UAAWhB,EAAMgB,UACjBD,SAAUf,EAAMe,SAChBI,YAAanB,EAAMmB,aAXJ,E,wDAePC,GACVA,EAAgBC,OAAOC,OAAOhG,KAAK8E,MAAOgB,GAC1C9F,KAAKlD,KAAOgJ,EAAchJ,KAC1BkD,KAAKiG,SAASH,GACd,IAAII,EAAQpI,OAAOqI,MAAMrB,MAAMoB,MAC/BA,EAAMlG,KAAK0E,MAAMkB,IAAMG,OAAOC,OAAOE,EAAMlG,KAAK0E,MAAMkB,IAAKE,GAC3DhI,OAAOqI,MAAMC,YAAY,CAACF,MAAOA,M,qCAGpBL,GACb7F,KAAKoG,YAAY,CAAEP,YAAaA,IAChC,IACEzI,SAASI,eAAe,8BAA8B6I,UAAYR,EAEpE,a,8BAGMpG,EAAG6G,GACT,IAAIC,EAAQvG,KAAK8E,MAAMW,SACvBc,EAAM9G,GAAG+G,KAAOF,EAChBtG,KAAKoG,YAAY,CAAEX,SAAUc,M,8BAGvBzJ,GACM,KAATA,IACDA,EAAO,UAAYkD,KAAK0E,MAAMkB,IAEhC5F,KAAKlD,KAAOA,EACZkD,KAAKoG,YAAY,CAAEtJ,KAAMA,IACzB,IACEM,SAASI,eAAe,uBAAuB6I,UAAYvJ,EAE7D,a,gCAGQ2J,GACR,IAAIC,EAAc5I,OAAOqI,MAAMrB,MAAM6B,QACrCD,EAAY1G,KAAK8E,MAAMa,QAAQO,MAAMU,OAAOF,EAAY1G,KAAK8E,MAAMa,QAAQO,MAAMW,QAAQ7G,KAAK4F,IAAK,GACnGc,EAAYD,GAAYP,MAAMtF,KAAKZ,KAAK4F,IACxC9H,OAAOqI,MAAMC,YAAY,CAACO,QAASD,IACnC1G,KAAKoG,YAAY,CAACT,OAAQc,M,6BAGrBK,GACL9G,KAAKoG,YAAY,CAACrB,KAAM/E,KAAK8E,MAAMC,KAAO,CAAC+B,O,kCAGjCC,GACV/G,KAAKoG,YAAY,CAAEV,UAAW1F,KAAK8E,MAAMY,UAAY,CAACqB,O,+BAG9C,IAAD,OAEH/G,KAAKlD,OAASgB,OAAOqI,MAAMrB,MAAMoB,MAAMlG,KAAK0E,MAAMkB,IAAI9I,MACtDkD,KAAK8E,MAAMe,cAAgB/H,OAAOqI,MAAMrB,MAAMoB,MAAMlG,KAAK0E,MAAMkB,IAAIC,cACrE7F,KAAKlD,KAAOgB,OAAOqI,MAAMrB,MAAMoB,MAAMlG,KAAK0E,MAAMkB,IAAI9I,KACpDkD,KAAKoG,YAAY,CACf,YAAgBtI,OAAOqI,MAAMrB,MAAMoB,MAAMlG,KAAK0E,MAAMkB,IAAIC,YACxD,KAAS/H,OAAOqI,MAAMrB,MAAMoB,MAAMlG,KAAK0E,MAAMkB,IAAI9I,QAOrD,IAHA,IAEIkK,EADAC,EAAgB,GAEXxH,EAAI,EAAGA,EAAIO,KAAK8E,MAAMC,KAAKrF,SAAUD,EAAG,CAE7CuH,EADEvH,EAJgB,EAKL,uBAEA,uBACf,IACEuH,GAAc,cAAgBlJ,OAAOqI,MAAMrB,MAAMC,KAAK/E,KAAK8E,MAAMC,KAAKtF,IAAIyH,MAE5E,SACEF,GAAc,cAAgBhH,KAAK8E,MAAMC,KAAKtF,GAEhDwH,EAAcrG,KAAK,yBAAKuG,UAAWH,KAGrC,IAAII,EAAuB,GACxBpH,KAAK8E,MAAMW,SAAS/F,OAAS,IACfM,KAAK8E,MAAMW,SACjB4B,SAAQ,SAAAb,GACZA,EAAKc,KACRF,EAAuB,CAAC,wBAAID,UAAW,eAAgBI,OAAOH,GAE5DA,EAAqBxG,KAAK,wBAAIuG,UAAW,kBAE7CC,EAAwB,wBAAID,UAAU,aACZ,4BAAKxE,GACJyE,IAI7B,OACE,kBAAC,YAAD,CAAW/G,KAAK,OAAOmH,KAAMxH,KAAK4F,IAChC,kBAAC,IAAD,CAAM6B,GAAE,iBAAY3J,OAAOqI,MAAMP,GAAzB,iBAAoC5F,KAAK4F,IAAMuB,UAAU,OAAOO,QAAS,WAAQ5J,OAAOqI,MAAMwB,YAAY,EAAK/B,IAAKgC,QAAQC,IAAI,EAAKjC,MAC3I,2BAAI5F,KAAKlD,MACRsK,EACD,6BAC+B,KAA3BpH,KAAK8E,MAAMe,kBAAiDN,IAA3BvF,KAAK8E,MAAMe,YAA6B,KAAOpE,EAClF,kCAAQ3D,OAAOqI,MAAMrB,MAAMgD,WAA3B,IAAwC9H,KAAK0E,MAAMkB,IAClDqB,GAEFjH,KAAK8E,MAAMY,UAAUhG,QAAU,EAAI,yBAAKqI,IAAKjK,OAAOkK,MAAMhI,KAAK8E,MAAMY,UAAU,IAAIuC,OAAQ9I,IAAKrB,OAAOkK,MAAMhI,KAAK8E,MAAMY,UAAU,IAAI5I,KAAKoL,WAAYzF,MAAO,CAAElB,MAAO,aAAkB,KACzLvB,KAAK8E,MAAMY,UAAUhG,QAAU,EAAI,yBAAKqI,IAAKjK,OAAOkK,MAAMhI,KAAK8E,MAAMY,UAAU,IAAIuC,OAAQ9I,IAAKrB,OAAOkK,MAAMhI,KAAK8E,MAAMY,UAAU,IAAI5I,KAAKoL,WAAYzF,MAAO,CAAElB,MAAO,aAAkB,KACzLvB,KAAK8E,MAAMY,UAAUhG,QAAU,EAAI,yBAAKqI,IAAKjK,OAAOkK,MAAMhI,KAAK8E,MAAMY,UAAU,IAAIuC,OAAQ9I,IAAKrB,OAAOkK,MAAMhI,KAAK8E,MAAMY,UAAU,IAAI5I,KAAKoL,aAAiB,S,mCASnK,IAAIC,EACJ,IACE,IAAIC,EAAepD,IAASC,YAAYjF,MAAMqI,YAC9CD,GAAgBpD,IAASC,YAAYjF,MAAMsI,qBAAqB,QAAQ,GAAGD,YAC3ED,GAAgBtK,OAAOyK,UACvBH,GAAgB,EACe,KAA3BpI,KAAK8E,MAAMe,cACbuC,GAAgB,KAClBA,GAAgB,KACZpI,KAAK8E,MAAMY,UAAUhG,QAAU,IACjC0I,GAAgB,MACdpI,KAAK8E,MAAMY,UAAUhG,QAAU,IACjC0I,GAAgB,MACdpI,KAAK8E,MAAMY,UAAUhG,QAAU,IACjC0I,GAAgB,GAElBD,EAAkBC,EAAe,IAEjC,IADA,IAAII,EAAkBxI,KAAK8E,MAAMC,KAAKrF,OAASyI,EACxCA,EAAkB,GAAuB,IAAlBA,EAA0C,EAAlBK,EAAwBJ,GAC5ED,IACAK,IAEFL,GAAmB,IAErB,MAAOxK,GACLwK,EAAkB,EAEpB,OAAQA,I,0CAyBRnI,KAAK2E,SACL7G,OAAOoC,iBAAiB,SAAUF,KAAK2E,QAEvC7G,OAAOqI,MAAMrB,MAAMoB,MAAMlG,KAAK0E,MAAMkB,IAAI6C,eAAiBzI,KAAK2E,S,6CAI9D7G,OAAOyC,oBAAoB,SAAUP,KAAK2E,QACvC3E,KAAK0E,MAAMkB,MAAM9H,OAAOqI,MAAMrB,MAAMoB,SAAWlG,KAAK0E,MAAMkB,MAAM9H,OAAOqI,MAAMrB,MAAM4D,kBAC7E5K,OAAOqI,MAAMrB,MAAMoB,MAAMlG,KAAK0E,MAAMkB,IAAI6C,mB,GAjMlCE,IAAMC,WAsMzBnE,EAAKoE,aAAe,CAClB9D,KAAM,GACNjI,KAAM,GACNgM,QAAS,EACTpD,UAAW,CAAC,EAAG,GACfD,SAAU,GACVI,YAAa,GACbkD,cAAe,cAGFtE,QCnNMuE,E,kDAEnB,WAAYtE,GAAQ,IAAD,8BACjB,cAAMA,IAmERC,OAAS,aAlEP,EAAKiB,GAAKlB,EAAMkB,GAChB,EAAKd,MAAQ,CACXhI,KAAM4H,EAAM5H,KACZoJ,MAAOxB,EAAMwB,MACb+C,OAAQvE,EAAMuE,OACdpD,YAAanB,EAAMmB,aAPJ,E,qDAWT,IAAD,OAEP,OAEE,yBAAKsB,UAAU,4BACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,sBACZnH,KAAK8E,MAAMmE,OAAS,KAAO9G,EAC5B,4BAAKnC,KAAK8E,MAAMhI,OAElB,yBAAKqK,UAAU,yBACb,4BAAQO,QAAS,WAAQ5J,OAAOqI,MAAM+C,QAAQ,EAAKtD,GAAI,CAAE9I,KAAM,GAAI+I,YAAa,GAAIF,OAAQ,EAAKC,GAAIb,KAAM,GAAIW,UAAW,KAAM,KAC7HxD,GAEFM,IAGL,yBAAK2E,UAAU,aACb,kBAAC,YAAD,CACEgC,MAAO,CAAC,QACRC,OAAQpJ,KAAKoJ,OAAOC,KAAKrJ,OACzB,wBAAImH,UAAU,uBACXnH,KAAK0E,MAAM4E,WAGhB,4BAAQnC,UAAU,kBAAkBO,QAAS,WAAQ5J,OAAOqI,MAAM+C,QAAQ,EAAKtD,GAAI,CAAE9I,KAAM,GAAI+I,YAAa,GAAIF,OAAQ,EAAKC,GAAIb,KAAM,GAAIW,UAAW,OACpJ,kBAAC,IAAD,CAAM+B,GAAE,iBAAY3J,OAAOqI,MAAMP,GAAzB,iBAAoC9H,OAAOqI,MAAMoD,UACtDrH,S,6BAURsF,GACL,IAAIgC,EAAUhC,EAAKiC,KACjBA,EAAO3L,OAAOqI,MAAMrB,MAAMoB,MAAMsD,GAChC9C,EAAc5I,OAAOqI,MAAMrB,MAAM6B,QAC/B3G,KAAK4F,KAAO6D,EAAK9D,SAErBe,EAAY+C,EAAK9D,QAAQO,MAAMU,OAAOF,EAAY+C,EAAK9D,QAAQO,MAAMW,QAAQ2C,GAAU,GACvF9C,EAAY1G,KAAK4F,IAAIM,MAAMtF,KAAK4I,GAEhC1L,OAAOqI,MAAMC,YAAY,CAAEO,QAASD,IACpC1G,KAAKiG,SAAS,CACZnJ,KAAMkD,KAAK8E,MAAMhI,KACjBmM,OAAQjJ,KAAK8E,MAAMmE,OACnBpD,YAAa7F,KAAK8E,MAAMe,YACxBK,MAAOQ,EAAY1G,KAAK4F,S,0CAS1B5F,KAAK2E,SACL7G,OAAOoC,iBAAiB,SAAUF,KAAK2E,U,6CAIvC7G,OAAOyC,oBAAoB,SAAUP,KAAK2E,Y,GA/EVgE,IAAMC,WAmF1CI,EAAOH,aAAe,CACpBI,QAAQ,EACRpD,YAAa,GACbK,MAAO,I,sCCoRMwD,E,kDArWb,WAAYhF,GAAQ,IAAD,8BACjB,cAAMA,IAyDRiF,wBAA0B,CACxBC,YAAa,CAAC,IAAK,IAAK,KAAM,SAAU,IAAK,IAAK,KAAM,OACxDC,kBAAmB,CAAEC,EAAG,CAAC,UA5DR,EA+DnBC,iBAAmB,CACjBH,YAAa,GACbC,kBAAmB,IAjEF,EAkWnBlF,OAAS,aAhWP,EAAKqF,qBAAuBrB,IAAMsB,YAClC,EAAKC,cAAgBvB,IAAMsB,YAHV,E,uDAMRxK,GACT,IAAIgG,EAAWzF,KAAK8E,MAAMW,SAC1BA,EAASmB,OAAOnH,EAAG,GACnBO,KAAKoG,YAAY,CAAEX,SAAUA,IAG7B,IAAIS,EAAQpI,OAAOqI,MAAMrB,MAAMoB,MAC/BA,EAAMlG,KAAK0E,MAAMkB,IAAIH,SAAWA,EAChC3H,OAAOqI,MAAMC,YAAY,CAAEF,MAAOA,IAClC,IAAK,IAAIiE,EAAI,EAAGA,EAAI1E,EAAS/F,OAAQyK,IAAK,CAC3B/M,SAASI,eAAe,QAAU2M,GAC1CC,QAAU3E,EAAS0E,GAAG7C,Q,gCAKrBR,GACR,IAAI/B,EAAO/E,KAAK8E,MAAMC,KACtBA,EAAK6B,OAAO5G,KAAK8E,MAAMC,KAAK8B,QAAQC,GAAM,GAC1C9G,KAAKoG,YAAY,CAAErB,KAAMA,IACzB,IAAImB,EAAQpI,OAAOqI,MAAMrB,MAAMoB,MAC/BA,EAAMlG,KAAK0E,MAAMkB,IAAIb,KAAOA,EAC5BjH,OAAOqI,MAAMC,YAAY,CAAEF,MAAOA,M,qCAGrBa,GACb,IAAIrB,EAAY1F,KAAK8E,MAAMY,UAC3BA,EAAUkB,OAAO5G,KAAK8E,MAAMY,UAAUmB,QAAQE,GAAW,GACzD/G,KAAKoG,YAAY,CAAEV,UAAWA,IAC9B,IAAIQ,EAAQpI,OAAOqI,MAAMrB,MAAMoB,MAC/BA,EAAMlG,KAAK0E,MAAMkB,IAAIF,UAAYA,EACjC5H,OAAOqI,MAAMC,YAAY,CAAEF,MAAOA,M,kCAGxBnI,GAA4B,IAArBsM,IAAoB,yDACjCzM,EAAUG,EAAMR,OACF,WAAdQ,EAAMuM,KAERlN,SAASmN,YAAY,QACrB3M,EAAQ4M,QAEa,UAAdzM,EAAMuM,KAAmBD,GAChCzM,EAAQ4M,S,uCAKVpN,SAASI,eAAe,8BAA8BiF,MAAMgI,QAAU,eACtErN,SAASI,eAAe,8BAA8BkN,QACtDtN,SAASI,eAAe,mBAAmBiF,MAAMgI,QAAU,S,+BAanD,IAAD,OAEHE,EAAgB,GACpB,IAAK,IAAMC,KAAa9M,OAAOqI,MAAMrB,MAAM6B,QACzC,GAAI7I,OAAOqI,MAAMrB,MAAM6B,QAAQkE,eAAeD,GAAY,CACxD,IAAMjF,EAAS7H,OAAOqI,MAAMrB,MAAM6B,QAAQiE,GAC1CD,EAAc/J,KAAK,4BAAQD,MAAOgF,EAAOC,IAAKD,EAAO7I,OAGzD6N,EAAgB,4BAAQ/E,GAAG,wBACzBjF,MAAOX,KAAK8E,MAAMa,OAClBmF,SAAU,WAAQ,EAAKC,UAAUC,SAAS5N,SAASI,eAAe,yBAAyBmD,UAC1FgK,GAIH,IADA,IAAIlF,EAAW,GAfR,WAgBEhG,GACP,IAAM+G,EAAO,EAAK1B,MAAMW,SAAShG,GACjCgG,EAAS7E,KACP,wBAAIuG,UAAU,kBACZ,2BAAOvB,GAAE,eAAUnG,GAAKY,KAAK,WAAWvD,KAAI,eAAU2C,GAAKgD,MAAO,CAAEgI,QAAS,QAAU9J,MAAK,eAAUlB,GAAKwL,eAAgBzE,EAAKc,OAChI,2BAAOH,UAAU,kCAAkC+D,QAAO,eAAUzL,IAClE,8BAAM,yBAAKiC,QAAQ,YAAW,8BAAUyJ,OAAO,mBAC/C,0BAAMvF,GAAE,oBAAenG,GACrB2L,OAAQ,WACN,IAAIC,EAAOjO,SAASI,eAAT,oBAAqCiC,IAC5C6G,EAAW+E,EAAKhF,UACH,KAAbC,GACFlJ,SAASmN,YAAY,QACrBc,EAAKb,QAIL,EAAKc,QAAQ7L,EAAG6G,GAClB+E,EAAKE,iBAAkB,GAEzBC,UAAW,SAAA7N,GAAO,EAAK8N,YAAY9N,KAClC6I,EAAKA,OAGV,4BAAQW,UAAU,YAAYO,QAAS,WAAQtK,SAASI,eAAT,oBAAqCiC,IAAK8L,iBAAkB,EAAMnO,SAASI,eAAT,oBAAqCiC,IAAKiL,UACxJlG,GAEH,4BAAQ2C,UAAU,cAAcO,QAAS,WAAQ,EAAKgE,WAAWjM,KAC/D,yBAAKiC,QAAQ,YAAYE,OAAO,eAAeC,KAAK,gBAAe,0BAAMC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,YA5BnGxC,EAAI,EAAGA,EAAIO,KAAK8E,MAAMW,SAAS/F,OAAQD,IAAM,EAA7CA,GAiCTgG,EAAS7E,KACP,4BAAQgF,GAAG,YACR1D,EAAU,uCAIf,IAAI6C,EAAO,GACX/E,KAAK8E,MAAMC,KAAKsC,SAAQ,SAAAP,GACtB,IACE/B,EAAKnE,KACH,0BAAMuG,UAAS,oBAAerJ,OAAOqI,MAAMrB,MAAMC,KAAK+B,GAAKI,QACxDpJ,OAAOqI,MAAMrB,MAAMC,KAAK+B,GAAKhK,KAC9B,4BAAQqK,UAAU,kBAAkBO,QAAS,WAAQ,EAAKiE,UAAU7E,KAClE,yBAAKpF,QAAQ,YAAYE,OAAO,eAAeC,KAAK,gBAAe,0BAAMC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,WAK5G,MAAOtE,GACLiK,QAAQC,IAAI/J,OAAOqI,MAAMrB,MAAMC,KAAK+B,QAGxC/B,EAAKnE,KAAK,4BAAQgF,GAAG,WAAWvC,IAEhC,IAuBIwC,EAvBAH,EAAY,GAChB1F,KAAK8E,MAAMY,UAAU2B,SAAQ,SAAAN,GAC3BrB,EAAU9E,KACR,wBAAIuG,UAAU,sBACZ,6BACE,yBAAKY,IAAKjK,OAAOkK,MAAMjB,GAAUkB,OAAQ9I,IAAKrB,OAAOkK,MAAMjB,GAAUjK,KAAKoL,aAC1E,4BAAQf,UAAU,uBAAuBO,QAAS,WAAQ,EAAKkE,eAAe7E,KAC5E,yBAAKrF,QAAQ,YAAYE,OAAO,eAAeC,KAAK,gBAAe,0BAAMC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,SAEtG,8BAAOnE,OAAOkK,MAAMjB,GAAUjK,YAKtC4I,EAAU9E,KACR,4BACE,4BAAQgF,GAAG,gBACRrC,EACD,2CAMN,IAAIsI,EAAgB,GAChBC,EAAa,GAgCjB,MA/B+B,KAA3B9L,KAAK8E,MAAMe,YACbgG,EAAgB,CAAE,QAAW,QAG7BC,EAAa,CAAE,QAAW,QAC5BjG,EAAc,yBAAKsB,UAAU,qDAC3B,yBAAKA,UAAU,+BACZ1F,EAAiB,8CAEpB,kBAAC,IAAD,CACEmE,GAAG,6BACHmG,SAAU/L,KAAKgK,qBACfgC,KAAMhM,KAAK8E,MAAMe,YAAYqC,WAC7B+D,UAAU,EACVT,UAAW,SAAAzN,GAAW,EAAK0N,YAAY1N,GAAO,IAC9CqN,OAAQ,SAAArN,GACN,EAAKmO,eAAeC,IAAapO,EAAMR,OAAO6O,UAAW,EAAKzC,0BAC/B,KAA3B5L,EAAMR,OAAO8I,YACftI,EAAMR,OAAOkF,MAAMgI,QAAU,OAC7BrN,SAASI,eAAe,mBAAmBiF,MAAMgI,QAAU,SAG/DtM,QAAQ,IACRsE,MAAOqJ,IACT,4BAAQlG,GAAG,kBACT8B,QAAS,WAAQ,EAAK2E,kBACtB5J,MAAOoJ,GACN3J,EAAU,uCAMb,yBAAKiF,UAAU,6BACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,6DAA6DO,QAAS,SAAC/J,GAAQ,IAAI2O,EAAM3O,GAAQG,OAAOC,MAA6F,OAAlFuO,EAAIxM,gBAAmBwM,EAAIxM,kBAA4BwM,EAAI1M,cAAe,GAAe,IACzN,yBAAKuH,UAAU,yBACb,kBAAC,IAAD,CACEvB,GAAG,sBACHmG,SAAU/L,KAAKkK,cACf+B,UAAU,EACVb,OAAQ,WACN,EAAKmB,QAAQnP,SAASI,eAAe,uBAAuB6I,YAE9DlI,QAAQ,KACRqN,UAAW,SAAA7N,GAAO,EAAK8N,YAAY9N,IACnCqO,KAAMhM,KAAK8E,MAAMhI,OACnB,6BACE,qCACC6N,IAGJ9E,EACD,yBAAKsB,UAAU,0BACb,yBAAKA,UAAU,mDACb,yBAAKA,UAAU,+BACZxE,EAAW,4CAEd,4BACG8C,IAGL,yBAAK0B,UAAU,8CACb,yBAAKA,UAAU,+BACZ/D,EAAS,uCAEZ,yBAAK+D,UAAU,2BAA2BpC,IAE5C,yBAAKoC,UAAU,mDACb,yBAAKA,UAAU,+BACZ7D,EAAe,4CAElB,4BAAKoC,IAEP,yBAAKyB,UAAU,8CAA8C1E,MAAO,CAAEgI,QAAS,SAC7E,yBAAKtD,UAAU,+BACZzD,EAAY,wCAEf,4BAAQkC,GAAG,aACR1D,EAAU,0CAGf,yBAAKiF,UAAU,kDACb,yBAAKA,UAAU,+BACZjE,EAAe,2CAElB,4BAAQ0C,GAAG,gBACR/C,EAAc,2CAIrB,yBAAKsE,UAAU,0BACb,4BAAQvB,GAAG,mBAAmB8B,QAAS,cACpClE,EAAiB,uCAEpB,4BAAQoC,GAAG,yBACRnC,EAAe,4CAElB,4BAAQmC,GAAG,4BAA4BnD,MAAO,CAAEgI,QAAS,SACtD9G,EAAmB,gDAEtB,yBAAKwD,UAAU,UAAU1E,MAAO,CAAEgI,QAAS,UAC3C,4BAAQ7E,GAAG,wBAAwBnD,MAAO,CAAEgI,QAAS,SAClDlG,EAAe,4CAElB,4BAAQqB,GAAG,mBAAmBnD,MAAO,CAAEgI,QAAS,SAC7C7G,EAAU,uCAEb,4BAAQgC,GAAG,oBACRxB,EAAU,4CAEb,4BAAQwB,GAAG,sBAAsBnD,MAAO,CAAEgI,QAAS,SAChDpG,EAAa,0CAEhB,yBAAK8C,UAAU,YACf,4BAAQvB,GAAG,sBAAsB8B,QAAS,WAAQ5J,OAAOqI,MAAMqG,YAAY,EAAK9H,MAAMkB,MACpF,kBAAC,IAAD,CAAM6B,GAAE,iBAAY3J,OAAOqI,MAAMP,KAC9BtB,EAAa,2CAGlB,4BAAQsB,GAAG,qBAAqBuB,UAAU,oBACxCO,QAAS,WAAY5J,OAAO2O,YAAYC,aAAgB5O,OAAOqI,MAAMC,YAAY,CAAEuG,OAAQ,wBAAmC7O,OAAOqI,MAAMyG,WAAW,EAAKlI,MAAMkB,MACjK,kBAAC,IAAD,CAAM6B,GAAE,iBAAY3J,OAAOqI,MAAMP,KAC9B/B,EAAW,2CAIlB,yBAAKsD,UAAU,yBACb,yBAAKA,UAAU,0BACb,yBAAKY,IAAKjK,OAAOkK,MAAMhI,KAAK0E,MAAMoE,SAASb,OAAQ9I,IAAKrB,OAAOkK,MAAMhI,KAAK0E,MAAMoE,SAAShM,KAAKoL,WAAYzF,MAAO,CAAElB,MAAO,aAC1H,0BAAM4F,UAAU,0BACbrJ,OAAOkK,MAAMhI,KAAK0E,MAAMoE,SAAShM,KADpC,IAC0C,sDAAiC,0BAAMqK,UAAU,UAAhB,IAA2BnH,KAAK0E,MAAMqE,iBAGnH,yBAAK5B,UAAU,4BAAf,IACIrJ,OAAOqI,MAAMrB,MAAMgD,WADvB,IACoC9H,KAAK0E,MAAMkB,MAInD,yBAAKuB,UAAU,+BAA+BO,QAAS,SAAA/J,GAAO,IAAI2O,EAAM3O,GAAQG,OAAOC,MAA6F,OAAlFuO,EAAIxM,gBAAmBwM,EAAIxM,kBAA4BwM,EAAI1M,cAAe,GAAe,IACzL,yBAAKuH,UAAU,oCACb,kBAAC,IAAD,CAAMM,GAAE,iBAAY3J,OAAOqI,MAAMP,KAC/B,gCAASzB,IAEX,gCAASL,GACT,gCAASC,IAEX,yBAAKoD,UAAU,uCACb,gCAASjD,GACT,4BAAQiD,UAAU,oBAAoBO,QAAS,WAAY5J,OAAO2O,YAAYC,aAAgB5O,OAAOqI,MAAMC,YAAY,CAAEuG,OAAQ,wBAAmC7O,OAAOqI,MAAMyG,WAAW,EAAKlI,MAAMkB,MAAW3B,S,0CAW5N,IAFmB,IAAD,kBAETxE,GACPrC,SAASI,eAAe,QAAUiC,GAAGS,iBAAiB,UAAU,SAAAoM,GAC9D,IAAIO,EAAWP,EAAI/O,OACf+H,EAAY,EAAKR,MAAMW,SAC3BH,EAAU7F,GAAG6H,KAAOuF,EAASzC,QAC7B,EAAKhE,YAAY,CAAEX,SAAUH,IAC7BxH,OAAOqI,MAAMrB,MAAMoB,MAAM,EAAKxB,MAAMkB,IAAIH,SAAWH,MAN9C7F,EAAI,EAAGA,EAAIO,KAAK8E,MAAMW,SAAS/F,OAAQD,IAAM,EAA7CA,GAUe,KAApBO,KAAK8E,MAAMhI,MACbM,SAASI,eAAe,uBAAuBkN,U,6CAOjD,IACM1K,KAAK0E,MAAMkB,MAAM9H,OAAOqI,MAAMrB,MAAMoB,SAAWlG,KAAK0E,MAAMkB,MAAM9H,OAAOqI,MAAMrB,MAAM4D,WACrF5K,OAAOqI,MAAMrB,MAAMoB,MAAMlG,KAAK0E,MAAMkB,IAAI6C,iBAG5C,UACArL,SAAS0P,cAActC,W,GAjWC/F,GCCtB1H,EAAWgQ,EAAQ,KAAqBhQ,SAGxCiQ,E,kDAEJ,WAAYtI,GAAQ,IAAD,EAiBjB,GAjBiB,qBACjB,cAAMA,IACDkB,GAAKlB,EAAMkB,GAChB,EAAKd,MAAQ,CACXgD,WAAYpD,EAAMoD,WAClBhL,KAAM4H,EAAM5H,KACZoJ,MAAOxB,EAAMwB,MACbS,QAASjC,EAAMiC,QACf5B,KAAML,EAAMK,KACZiD,MAAOtD,EAAMsD,MACbiF,UAAWvI,EAAMuI,UACjBC,YAAaxI,EAAMwI,YACnBC,YAAazI,EAAMyI,YACnBzE,SAAUhE,EAAMgE,SAChB0E,cAAe1I,EAAM0I,cACrBT,OAAQjI,EAAMiI,aAEQpH,IAApBb,EAAMuI,YAAgD,IAArBvI,EAAMuI,UAAkB,CAC3D,EAAKnI,MAAMmI,UAAY9L,KAAKkM,IAAItH,OAAOtH,KAAK,EAAKqG,MAAMoB,QAAU,EACjE,IAAK,IAAIzG,EAAI,EAAGA,EAAI,EAAKqF,MAAMmI,UAAWxN,IAClCA,KAAK,EAAKqF,MAAMoB,OACpB,EAAKpB,MAAMoI,YAAYtM,KAAKnB,GArBjB,OAuBjB3B,OAAOqI,MAAP,eAvBiB,E,wDA0BPL,GACVA,EAAgBC,OAAOC,OAAOhG,KAAK8E,MAAOgB,GAC1C9F,KAAKiG,SAASH,K,8BAGR8E,EAAWnB,GAAsB,IAAhB6D,EAAe,wDACtC7D,EAAK7D,GAAK5F,KAAKuN,YACf,IAAIrH,EAAQlG,KAAK8E,MAAMoB,MACnBS,EAAU3G,KAAK8E,MAAM6B,QAQzB,OAPI2G,EACF3G,EAAQiE,GAAW1E,MAAQ,CAACuD,EAAK7D,IAAI2B,OAAOZ,EAAQiE,GAAW1E,OAE/DS,EAAQiE,GAAW1E,MAAMtF,KAAK6I,EAAK7D,IACrCM,EAAMuD,EAAK7D,IAAM6D,EACjBzJ,KAAKoG,YAAY,CAAEF,MAAOA,EAAOS,QAASA,EAASyG,cAAe3D,EAAK7D,KACvE9H,OAAO0P,QAAQC,UAAU,QAAUhE,EAAK7D,GAAI,SAAW6D,EAAK7D,GAA5D,iBAA0E9H,OAAOqI,MAAMP,GAAvF,iBAAkG6D,EAAK7D,KAChG6D,EAAK7D,K,kCAIZ,IAAIA,EACJ,OAAI5F,KAAK8E,MAAMoI,YAAYQ,WACzB9H,EAAK5F,KAAK8E,MAAMmI,UAChBjN,KAAK8E,MAAMmI,YACHrH,GAGA5F,KAAK8E,MAAMoI,YAAYnM,Q,mCAItB6E,GACPA,IAAO5F,KAAK8E,MAAMmI,UAAY,EAChCjN,KAAK8E,MAAMmI,UAAYrH,EAGvB5F,KAAK8E,MAAMoI,YAAYtM,KAAKgF,K,iCAIrB4D,GACT,GAAMA,KAAWxJ,KAAK8E,MAAMoB,MAA5B,CAEA,IAAIS,EAAU3G,KAAK8E,MAAM6B,QACrBT,EAAQlG,KAAK8E,MAAMoB,MACvBS,EAAQT,EAAMsD,GAAS7D,QAAQO,MAAMU,OAAOD,EAAQT,EAAMsD,GAAS7D,QAAQO,MAAMW,QAAQ2C,GAAU,UAC5FtD,EAAMsD,GACbxJ,KAAKoG,YAAY,CAAEF,MAAOA,EAAOS,QAASA,EAASyG,eAAgB,IACnEpN,KAAK2N,aAAanE,M,kCAGRA,GAEV,GADA5B,QAAQC,IAAI7H,MACNwJ,KAAWxJ,KAAK8E,MAAMoB,MAA5B,CAEA,IAAIS,EAAU3G,KAAK8E,MAAM6B,QACrBT,EAAQlG,KAAK8E,MAAMoB,MACnBwC,EAAW1I,KAAK8E,MAAM4D,SAC1B/B,EAAQT,EAAMsD,GAAS7D,QAAQO,MAAMU,OAAOD,EAAQT,EAAMsD,GAAS7D,QAAQO,MAAMW,QAAQ2C,GAAU,GACnGd,EAAS9H,KAAK4I,GACdxJ,KAAKoG,YAAY,CAAEF,MAAOA,EAAOS,QAASA,EAASyG,eAAgB,EAAG1E,SAAUA,O,oCAIvD,IAAfc,EAAc,wDAAH,EAChBA,KAAWxJ,KAAK8E,MAAMoB,QACzBsD,GAAW,GACbxJ,KAAKoG,YAAY,CAAEgH,cAAe5D,M,+BAG1B,IAAD,OAEPxJ,KAAKuJ,QAAUvJ,KAAKuN,YACpBvN,KAAK2N,aAAa3N,KAAKuJ,SASvB,IAAI6D,EAAgB,KACpB,GAAGtP,OAAO8P,SAASC,SAASC,MAAM,YAAa,CAC7C,IAAItE,EAAUwB,SAASlN,OAAO8P,SAASC,SAASC,MAAM,YAAY,GAAGC,QAAQ,UAAW,KACxF,GAAGvE,IAAYxJ,KAAKuJ,QAClB6D,EAAgB,kBAAC,IAAD,CAAU3F,GAAE,iBAAY3J,OAAOqI,MAAMP,GAAzB,iBAAoC4D,SAC3D,CACL,IAAIC,EAAOzJ,KAAK8E,MAAMoB,MAAMsD,GAE1B4D,OADU7H,IAATkE,EACe,kBAAC,IAAD,CAAUhC,GAAE,iBAAY3J,OAAOqI,MAAMP,MAErC,kBAAC,EAAD,CAAeA,GAAI6D,EAAK7D,GAAI9I,KAAM2M,EAAK3M,KAAM+I,YAAa4D,EAAK5D,YAAaF,OAAQ8D,EAAK9D,OAAQZ,KAAM0E,EAAK1E,KAAMU,SAAUgE,EAAKhE,SAAUC,UAAW+D,EAAK/D,aAIjL,IAAIiB,EAAU,GAEd,IAAK,IAAMlH,KAAKO,KAAK8E,MAAM6B,QACrB3G,KAAK8E,MAAM6B,QAAQkE,eAAepL,IAAK,WACzC,IAAMuO,EAAc,EAAKlJ,MAAM6B,QAAQlH,GAAGyG,MACpCP,EAAS,EAAKb,MAAM6B,QAAQlH,GAC9BwO,EAAY,GAEhBD,EAAY3G,SAAQ,SAAAmC,GAClB,IAAMC,EAAO,EAAK3E,MAAMoB,MAAMsD,GAC9ByE,EAAUrN,KACR,kBAAC,EAAD,CAAM0J,IAAKb,EAAK7D,GAAGsC,WAAYtC,GAAI6D,EAAK7D,GAAI9I,KAAM2M,EAAK3M,KAAM+I,YAAa4D,EAAK5D,YAAaF,OAAQ8D,EAAK9D,OAAQZ,KAAM0E,EAAK1E,KAAMU,SAAUgE,EAAKhE,SAAUC,UAAW+D,EAAK/D,gBAI/KiB,EAAQ/F,KACN,kBAAC,EAAD,CAAQ0J,IAAK3E,EAAOC,GAAGsC,WAAYtC,GAAID,EAAOC,GAAI9I,KAAM6I,EAAO7I,KAAM+I,YAAaF,EAAOE,YAAaoD,OAAQtD,EAAOsD,QAClHgF,IAdoC,GAqB7C,IAAItB,EAAS,KA0Bb,MAzB0B,wBAAtB3M,KAAK8E,MAAM6H,SACbA,EAAQ,yBAAKxF,UAAU,oBACb,yBAAKvB,GAAG,sBAAsBuB,UAAU,UACtC,0EACA,kEACA,2BAAOvB,GAAG,iBAAiBvF,KAAK,WAAWvD,KAAK,iBAAiB2F,MAAO,CAACgI,QAAS,QAAS9J,MAAM,mBACjG,2BAAOwG,UAAU,WAAW+D,QAAQ,kBAClC,8BAAM,yBAAKxJ,QAAQ,YAAW,8BAAUyJ,OAAO,mBAC/C,sDAEF,yBAAKhE,UAAU,WACb,4BAAQO,QAAS,WAAQ5J,OAAOqI,MAAMC,YAAY,CAACuG,QAAS,MAA5D,UACA,yBAAKxF,UAAU,kBACb,4BAAQO,QAAS,WAAQ5J,OAAOqI,MAAMC,YAAY,CAACuG,QAAS,IAAK7O,OAAOqI,MAAMqG,YAAY1O,OAAOqI,MAAMrB,MAAMsI,eAAgBtP,OAAO2O,YAAYC,cAAgBtP,SAASI,eAAe,kBAAkB4M,UACxM,kBAAC,IAAD,CAAM3C,GAAE,iBAAY3J,OAAOqI,MAAMP,KAAjC,YAEF,4BAAQ8B,QAAS,WAAQ5J,OAAOqI,MAAMC,YAAY,CAACuG,QAAS,IAAK7O,OAAOqI,MAAMyG,WAAW9O,OAAOqI,MAAMrB,MAAMsI,eAAgBtP,OAAO2O,YAAYC,cAAgBtP,SAASI,eAAe,kBAAkB4M,SAAWjD,UAAU,YAC5N,kBAAC,IAAD,CAAMM,GAAE,iBAAY3J,OAAOqI,MAAMP,KAAjC,gBAUlB,6BACE,yBAAKuB,UAAU,MAAMvB,GAAG,SACtB,oFACA,yBAAKuB,UAAU,aACdR,EACD,yBAAKQ,UAAU,cAEjB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO+G,OAAK,EAACC,KAAK,4BAChB,kBAAC,IAAD,CAAU1G,GAAE,iBAAYzH,KAAK4F,OAE/B,kBAAC,IAAD,CAAOuI,KAAK,6BACTf,IAGJT,K,0CAMc,IAAD,OAClB5P,EAASsI,IAAI,UAAU,WAClBjI,SAAS0P,cAAcvB,mBAK5BxO,EAASsI,IAAI,UAAU,WACyB,SAA3CjI,SAAS0P,cAAcvB,kBAEvBzN,OAAO2O,YAAYC,aACpB5O,OAAOqI,MAAMC,YAAY,CAACuG,OAAQ,wBAElC7O,OAAOqI,MAAMyG,WAAW,EAAKlI,MAAMkB,U,6CAKvC7I,EAASqI,OAAO,UAChBrI,EAASqI,OAAO,c,GAxNAuD,IAAMC,WA8N1BoE,EAAMnE,aAAe,CACnB3C,MAAO,GACPS,QAAS,GACTqB,MAAO,GACPjD,KAAM,GACN2D,SAAU,GACV0E,eAAgB,EAChBT,QAAS,EACTM,UAAW,EACXE,aAAa,EACbD,YAAa,IAAI1M,GAGJwM,Q,SCvPR,SAASoB,GAAaf,GAC3B,OAAOlM,KAAKC,MAAMD,KAAKkN,SAAWlN,KAAKC,MAAMiM,IAGxC,SAASiB,GAAUxR,GACxB,IAAIyR,EAAc,KAClB,GAAInR,SAASoR,QAA8B,KAApBpR,SAASoR,OAE9B,IADA,IAAIC,EAAUrR,SAASoR,OAAO9P,MAAM,KAC3Be,EAAI,EAAGA,EAAIgP,EAAQ/O,OAAQD,IAAK,CACvC,IAAI+O,EAASC,EAAQhP,GAAGiP,OACxB,GAAIF,EAAOG,UAAU,EAAG7R,EAAK4C,OAAS,KAAQ5C,EAAO,IAAM,CACzDyR,EAAcK,mBAAmBJ,EAAOG,UAAU7R,EAAK4C,OAAS,IAChE,OAIN,OAAO6O,ECb8B5F,IAAMC,U,IC2E9BiG,G,kDAvEX,WAAYnK,GAAQ,IAAD,8BACjB,cAAMA,IAORoK,cAAgB,SAACnR,GACf,IAAMb,EAAOa,EAAEJ,OAAOT,KAChB6D,EAAQhD,EAAEJ,OAAOoD,MACvB,EAAKsF,UAAS,SAAA8I,GACZ,IAAMC,EAAQ,gBAAQD,GAEtB,OADAC,EAASlS,GAAQ6D,EACVqO,MAZT,EAAKlK,MAAQ,CACXmK,SAAU,GACVC,SAAU,IAJK,E,qDAkBT,IAAD,OACL,OACI,yBAAKtJ,GAAG,mBACJ,0BAAMA,GAAG,aAAauB,UAAU,2BAA2BgI,SAAU,SAAAxR,GAAC,OAAI,EAAK+G,MAAM0K,aAAazR,EAAG,EAAKmH,SACtG,yBAAKqC,UAAU,mBACX,uCACA,wCACA,yBAAKA,UAAU,mBACX,0BAAMA,UAAU,WAChB,2BACI9G,KAAK,OACLvD,KAAK,WACLuS,UAAU,EACVzJ,GAAG,iBACHjF,MAAOX,KAAK8E,MAAMmK,SAClBnE,SAAU9K,KAAK8O,cACfQ,aAAa,iBAEjB,0BAAMnI,UAAU,YAEpB,wCACA,yBAAKA,UAAU,mBACX,0BAAMA,UAAU,WAChB,2BACI9G,KAAK,WACLvD,KAAK,WACLuS,UAAU,EACVzJ,GAAG,iBACHjF,MAAOX,KAAK8E,MAAMoK,SAClBpE,SAAU9K,KAAK8O,cACfQ,aAAa,qBACjB,0BAAMnI,UAAU,YAEpB,yBAAKA,UAAU,WACX,4BAAQvB,GAAG,yBAAyB8B,QAAU,WAAOE,QAAQC,IAAI,qBAAjE,mBACA,4BAAQxH,KAAK,SAASqH,QAAU,WAAOE,QAAQC,IAAI,YAAnD,YAGR,yBAAKV,UAAU,uBACX,gCACKhD,KAIb,yBAAKyB,GAAG,qBACJ,wDAAmC,4C,GAjEnC+C,IAAMC,WCLL2G,GAEjB,WAAY3J,EAAI9I,EAAM0S,EAAMvH,GAAS,oBACnCjI,KAAK4F,GAAKA,EACV5F,KAAKlD,KAAOA,EACZkD,KAAKwP,KAAOA,EACZxP,KAAKiI,OAASA,EACdnK,OAAOkK,MAAMpC,GAAM5F,MCsLVyP,GA7LG,CACd,oEACA,4DACA,+EACA,+DACA,+CACA,+CACA,0CACA,iDACA,kDACA,qDACA,yDACA,8CACA,2DACA,8CACA,0EACA,8DACA,yCACA,mDACA,wDACA,mDACA,iDACA,mEACA,iDACA,+DACA,8CACA,qEACA,uEACA,yDACA,+CACA,2CACA,oEACA,gDACA,gDACA,gEACA,6DACA,sDACA,gDACA,uEACA,4DACA,yCACA,kEACA,uEACA,iDACA,6CACA,sCACA,kDACA,8CACA,sDACA,kEACA,gDACA,gEACA,mDACA,qEACA,0CACA,kFACA,0DACA,iDACA,gDACA,+DACA,mEACA,0DACA,qDACA,2CACA,4EACA,0DACA,mDACA,oEACA,6DACA,mDACA,yCACA,8DACA,oDACA,oEACA,qEACA,4DACA,yEACA,kDACA,+DACA,+CACA,iDACA,4DACA,2CACA,+CACA,gEACA,kEACA,qDACA,8DACA,kDACA,8DACA,0EACA,sDACA,kDACA,iFACA,iEACA,oEACA,yEACA,mEACA,gFACA,6CACA,mEACA,gEACA,mEACA,sEACA,mEACA,kDACA,oDACA,oDACA,6CACA,+EACA,0EACA,6EACA,oEACA,uEACA,2CACA,6DACA,mDACA,0CACA,+DACA,8CACA,2CACA,0CACA,8CACA,gDACA,4CACA,iDACA,oEACA,kDACA,wDACA,+CACA,sEACA,mDACA,6CACA,uCACA,gDACA,mDACA,sEACA,+CACA,0CACA,+DACA,8DACA,2DACA,mDACA,+DACA,kEACA,oEACA,oDACA,+CACA,iEACA,8CACA,gDACA,0CACA,wDACA,kDACA,sCACA,kEACA,kDACA,2EACA,kDACA,sEACA,0DACA,0CACA,kEACA,+DACA,uEACA,2EACA,iEACA,sDACA,sFACA,0DACA,+CACA,gDACA,4CACA,+CACA,0DACA,0DACA,uEACA,wEACA,yCACA,wEACA,+CACA,sDACA,2CACA,6DACA,oDACA,4CACA,+DC3KJ3R,OAAOqI,MAAQ,GACfrI,OAAO2O,YAAc,CACnBiD,MAAO,QACPhD,cAAc,GAEhB5O,OAAOkK,MAAQ,GACflK,OAAOyK,UAAYoH,WAAW7R,OAAO8R,iBAAiBxS,SAASyS,KAAM,MAAMC,iBAAiB,cAM5F,IAAI5C,GAAc,IAAI1M,EAClByM,IAAa,EAEjB,SAASM,KACP,IAAI3H,EACJ,OAAIsH,GAAYQ,WACd9H,EAAKqH,GACLA,KACQrH,GAGAsH,GAAYnM,MAKxB,IAAIwO,GAAK,EAAG,YAAa,sBAAuB,iCAChD,IAAIA,GAAK,EAAG,YAAa,yBAA0B,iCACnD,IAAIA,GAAK,EAAG,UAAW,mBAAoB,iCAC3C,IAAIA,GAAK,EAAG,gBAAiB,uBAAwB,iCAGrD,IAAI3J,GACAkC,GACAiI,GACAC,GACAjL,GAAO,GACPkL,GAAe,GACfC,GAAa,GAEjB,GAAGpS,OAAOqS,IAAK,CACbJ,GAAW,EACXjI,GAAa,MACbkI,GAAa,WACb/C,GAAY,EACZlI,GAAO,CACLqL,EAAG,CAAE,KAAQ,cAAe,MAA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","file":"static/js/main.05c1bca8.chunk.js","sourcesContent":["\r\n/**\r\n * http://www.openjs.com/scripts/events/keyboard_shortcuts/\r\n * Version : 2.01.B\r\n * By Binny V A\r\n * License : BSD\r\n */\r\nexports.name = 'shortcut';\r\n\r\nexports.shortcut = {\r\n\t'all_shortcuts':{},//All the shortcuts are stored in this array\r\n\t'add': function(shortcut_combination,callback,opt) {\r\n\t\t//Provide a set of default options\r\n\t\tvar default_options = {\r\n\t\t\t'type':'keydown',\r\n\t\t\t'propagate':false,\r\n\t\t\t'disable_in_input':false,\r\n\t\t\t'target':document,\r\n\t\t\t'keycode':false\r\n\t\t}\r\n\t\tif(!opt) opt = default_options;\r\n\t\telse {\r\n\t\t\tfor(var dfo in default_options) {\r\n\t\t\t\tif(typeof opt[dfo] == 'undefined') opt[dfo] = default_options[dfo];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar ele = opt.target;\r\n\t\tif(typeof opt.target == 'string') ele = document.getElementById(opt.target);\r\n\t\tshortcut_combination = shortcut_combination.toLowerCase();\r\n\r\n\t\t//The function to be called at keypress\r\n\t\tvar func = function(e) {\r\n\t\t\te = e || window.event;\r\n\t\t\t\r\n\t\t\tif(opt['disable_in_input']) { //Don't enable shortcut keys in Input, Textarea fields\r\n\t\t\t\tvar element;\r\n\t\t\t\tif(e.target) element=e.target;\r\n\t\t\t\telse if(e.srcElement) element=e.srcElement;\r\n\t\t\t\tif(element.nodeType===3) element=element.parentNode;\r\n\r\n\t\t\t\tif(element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') return;\r\n\t\t\t}\r\n\r\n\t\t\tlet code;\r\n\t\r\n\t\t\t//Find Which key is pressed\r\n\t\t\tif (e.keyCode) code = e.keyCode;\r\n\t\t\telse if (e.which) code = e.which;\r\n\t\t\tvar character = String.fromCharCode(code).toLowerCase();\r\n\t\t\t\r\n\t\t\tif(code === 188) character=\",\"; //If the user presses , when the type is onkeydown\r\n\t\t\tif(code === 190) character=\".\"; //If the user presses , when the type is onkeydown\r\n\r\n\t\t\tvar keys = shortcut_combination.split(\"+\");\r\n\t\t\t//Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\r\n\t\t\tvar kp = 0;\r\n\t\t\t\r\n\t\t\t//Work around for stupid Shift key bug created by using lowercase - as a result the shift+num combination was broken\r\n\t\t\tvar shift_nums = {\r\n\t\t\t\t\"`\":\"~\",\r\n\t\t\t\t\"1\":\"!\",\r\n\t\t\t\t\"2\":\"@\",\r\n\t\t\t\t\"3\":\"#\",\r\n\t\t\t\t\"4\":\"$\",\r\n\t\t\t\t\"5\":\"%\",\r\n\t\t\t\t\"6\":\"^\",\r\n\t\t\t\t\"7\":\"&\",\r\n\t\t\t\t\"8\":\"*\",\r\n\t\t\t\t\"9\":\"(\",\r\n\t\t\t\t\"0\":\")\",\r\n\t\t\t\t\"-\":\"_\",\r\n\t\t\t\t\"=\":\"+\",\r\n\t\t\t\t\";\":\":\",\r\n\t\t\t\t\"'\":\"\\\"\",\r\n\t\t\t\t\",\":\"<\",\r\n\t\t\t\t\".\":\">\",\r\n\t\t\t\t\"/\":\"?\",\r\n\t\t\t\t\"\\\\\":\"|\"\r\n\t\t\t}\r\n\t\t\t//Special Keys - and their codes\r\n\t\t\tvar special_keys = {\r\n\t\t\t\t'esc':27,\r\n\t\t\t\t'escape':27,\r\n\t\t\t\t'tab':9,\r\n\t\t\t\t'space':32,\r\n\t\t\t\t'return':13,\r\n\t\t\t\t'enter':13,\r\n\t\t\t\t'backspace':8,\r\n\t\r\n\t\t\t\t'scrolllock':145,\r\n\t\t\t\t'scroll_lock':145,\r\n\t\t\t\t'scroll':145,\r\n\t\t\t\t'capslock':20,\r\n\t\t\t\t'caps_lock':20,\r\n\t\t\t\t'caps':20,\r\n\t\t\t\t'numlock':144,\r\n\t\t\t\t'num_lock':144,\r\n\t\t\t\t'num':144,\r\n\t\t\t\t\r\n\t\t\t\t'pause':19,\r\n\t\t\t\t'break':19,\r\n\t\t\t\t\r\n\t\t\t\t'insert':45,\r\n\t\t\t\t'home':36,\r\n\t\t\t\t'delete':46,\r\n\t\t\t\t'end':35,\r\n\t\t\t\t\r\n\t\t\t\t'pageup':33,\r\n\t\t\t\t'page_up':33,\r\n\t\t\t\t'pu':33,\r\n\t\r\n\t\t\t\t'pagedown':34,\r\n\t\t\t\t'page_down':34,\r\n\t\t\t\t'pd':34,\r\n\t\r\n\t\t\t\t'left':37,\r\n\t\t\t\t'up':38,\r\n\t\t\t\t'right':39,\r\n\t\t\t\t'down':40,\r\n\t\r\n\t\t\t\t'f1':112,\r\n\t\t\t\t'f2':113,\r\n\t\t\t\t'f3':114,\r\n\t\t\t\t'f4':115,\r\n\t\t\t\t'f5':116,\r\n\t\t\t\t'f6':117,\r\n\t\t\t\t'f7':118,\r\n\t\t\t\t'f8':119,\r\n\t\t\t\t'f9':120,\r\n\t\t\t\t'f10':121,\r\n\t\t\t\t'f11':122,\r\n\t\t\t\t'f12':123\r\n\t\t\t}\r\n\t\r\n\t\t\tvar modifiers = { \r\n\t\t\t\tshift: { wanted:false, pressed:false},\r\n\t\t\t\tctrl : { wanted:false, pressed:false},\r\n\t\t\t\talt  : { wanted:false, pressed:false},\r\n\t\t\t\tmeta : { wanted:false, pressed:false}\t//Meta is Mac specific\r\n\t\t\t};\r\n                        \r\n\t\t\tif(e.ctrlKey)\tmodifiers.ctrl.pressed = true;\r\n\t\t\tif(e.shiftKey)\tmodifiers.shift.pressed = true;\r\n\t\t\tif(e.altKey)\tmodifiers.alt.pressed = true;\r\n\t\t\tif(e.metaKey)   modifiers.meta.pressed = true;\r\n                        \r\n\t\t\tfor(var i=0; i<keys.length; i++) {\r\n\t\t\t\tlet k=keys[i];\r\n\t\t\t\t//Modifiers\r\n\t\t\t\tif(k === 'ctrl' || k === 'control') {\r\n\t\t\t\t\tkp++;\r\n\t\t\t\t\tmodifiers.ctrl.wanted = true;\r\n\r\n\t\t\t\t} else if(k === 'shift') {\r\n\t\t\t\t\tkp++;\r\n\t\t\t\t\tmodifiers.shift.wanted = true;\r\n\r\n\t\t\t\t} else if(k === 'alt') {\r\n\t\t\t\t\tkp++;\r\n\t\t\t\t\tmodifiers.alt.wanted = true;\r\n\t\t\t\t} else if(k === 'meta') {\r\n\t\t\t\t\tkp++;\r\n\t\t\t\t\tmodifiers.meta.wanted = true;\r\n\t\t\t\t} else if(k.length > 1) { //If it is a special key\r\n\t\t\t\t\tif(special_keys[k] === code) kp++;\r\n\t\t\t\t\t\r\n\t\t\t\t} else if(opt['keycode']) {\r\n\t\t\t\t\tif(opt['keycode'] === code) kp++;\r\n\r\n\t\t\t\t} else { //The special keys did not match\r\n\t\t\t\t\tif(character === k) kp++;\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif(shift_nums[character] && e.shiftKey) { //Stupid Shift key bug created by using lowercase\r\n\t\t\t\t\t\t\tcharacter = shift_nums[character]; \r\n\t\t\t\t\t\t\tif(character === k) kp++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(kp === keys.length && \r\n\t\t\t\t\t\tmodifiers.ctrl.pressed === modifiers.ctrl.wanted &&\r\n\t\t\t\t\t\tmodifiers.shift.pressed === modifiers.shift.wanted &&\r\n\t\t\t\t\t\tmodifiers.alt.pressed === modifiers.alt.wanted &&\r\n\t\t\t\t\t\tmodifiers.meta.pressed === modifiers.meta.wanted) {\r\n\t\t\t\tcallback(e);\r\n\t\r\n\t\t\t\tif(!opt['propagate']) { //Stop the event\r\n\t\t\t\t\t//e.cancelBubble is supported by IE - this will kill the bubbling process.\r\n\t\t\t\t\te.cancelBubble = true;\r\n\t\t\t\t\te.returnValue = false;\r\n\t\r\n\t\t\t\t\t//e.stopPropagation works in Firefox.\r\n\t\t\t\t\tif (e.stopPropagation) {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.all_shortcuts[shortcut_combination] = {\r\n\t\t\t'callback':func, \r\n\t\t\t'target':ele, \r\n\t\t\t'event': opt['type']\r\n\t\t};\r\n\t\t//Attach the function with the event\r\n\t\tif(ele.addEventListener) ele.addEventListener(opt['type'], func, false);\r\n\t\telse if(ele.attachEvent) ele.attachEvent('on'+opt['type'], func);\r\n\t\telse ele['on'+opt['type']] = func;\r\n\t},\r\n\r\n\t//Remove the shortcut - just specify the shortcut and I will remove the binding\r\n\t'remove':function(shortcut_combination) {\r\n\t\tshortcut_combination = shortcut_combination.toLowerCase();\r\n\t\tvar binding = this.all_shortcuts[shortcut_combination];\r\n\t\tdelete(this.all_shortcuts[shortcut_combination])\r\n\t\tif(!binding) return;\r\n\t\tvar type = binding['event'];\r\n\t\tvar ele = binding['target'];\r\n\t\tvar callback = binding['callback'];\r\n\r\n\t\tif(ele.detachEvent) ele.detachEvent('on'+type, callback);\r\n\t\telse if(ele.removeEventListener) ele.removeEventListener(type, callback, false);\r\n\t\telse ele['on'+type] = false;\r\n\t}\r\n}","export default class BinaryHeap {\r\n\r\n  constructor() {\r\n    this.heap = [];\r\n    this.size = this.heap.length;\r\n  }\r\n\r\n  push(value) {\r\n    this.heap.push(value);\r\n    this.bubbleUp();\r\n    this.size = this.heap.length;\r\n  }\r\n\r\n  isEmpty() {\r\n    return (this.heap.length === 0);\r\n  }\r\n\r\n  pop() {\r\n    let min = this.heap[0];\r\n    if (this.heap.length === 1) {\r\n      this.heap = [];\r\n    }\r\n    else {\r\n      this.heap[0] = this.heap.pop();\r\n      this.sinkDown(0);\r\n    }\r\n    this.size = this.heap.length;\r\n    return min;\r\n  }\r\n\r\n  bubbleUp() {\r\n    let index = this.heap.length - 1;\r\n    while (index > 0) {\r\n      let element = this.heap[index];\r\n      let parentIndex = Math.floor((index - 1) / 2);\r\n      let parent = this.heap[parentIndex];\r\n      if (parent <= element)\r\n        break;\r\n      this.heap[index] = parent;\r\n      this.heap[parentIndex] = element;\r\n      index = parentIndex;\r\n    }\r\n  }\r\n\r\n  sinkDown(index) {\r\n    let left = 2 * index + 1;\r\n    let right = 2 * index + 2;\r\n    let largest = index;\r\n    const length = this.heap.length;\r\n\r\n    // if left child is smaller than parent\r\n    if (left <= length && this.heap[left] < this.heap[largest]) {\r\n      largest = left;\r\n    }\r\n    // if right child is smaller than parent\r\n    if (right <= length && this.heap[right] < this.heap[largest]) {\r\n      largest = right;\r\n    }\r\n    // swap\r\n    if (largest !== index) {\r\n      [this.heap[largest], this.heap[index]] = [this.heap[index], this.heap[largest]];\r\n      this.sinkDown(largest);\r\n    }\r\n\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\n\r\nconst ICON_DESCRIPTION = <svg viewBox=\"0 0 64 64\" strokeWidth=\"6\" stroke=\"currentColor\" fill=\"none\"><line x1=\"0\" y1=\"8\" x2=\"64\" y2=\"8\" /><line x1=\"0\" y1=\"32\" x2=\"64\" y2=\"32\" /><line x1=\"0\" y1=\"56\" x2=\"48\" y2=\"56\" /></svg>;\r\nconst ICON_PLUS = <svg viewBox=\"0 0 64 64\" strokeWidth=\"6\" stroke=\"currentColor\" fill=\"none\"><line x1=\"32\" y1=\"7\" x2=\"32\" y2=\"57\" /><line x1=\"7\" y1=\"32\" x2=\"57\" y2=\"32\" /></svg>;\r\nconst ICON_UNLOCKED = <svg viewBox=\"0 0 64 64\" strokeWidth=\"6\" stroke=\"currentColor\" fill=\"none\"><circle cx=\"32\" cy=\"32\" r=\"24.86\" /><path d=\"M32,6.84A34.09,34.09,0,0,1,43.66,32.31c0,16.19-7.28,21-11.66,24.24\" /><path d=\"M32,6.84A34.09,34.09,0,0,0,20.31,32.31c0,16.19,7.28,21,11.66,24.24\" /><line x1=\"10.37\" y1=\"19.75\" x2=\"53.75\" y2=\"19.75\" /><line x1=\"32\" y1=\"6.84\" x2=\"32\" y2=\"56.55\" /><line x1=\"11.05\" y1=\"45.33\" x2=\"52.98\" y2=\"45.33\" /><line x1=\"7.14\" y1=\"32.31\" x2=\"56.86\" y2=\"31.69\" /></svg>;\r\nconst ICON_OPTIONS = <svg style={{ width: '0.15rem' }} viewBox=\"28 0 8 64\" strokeWidth=\"6\" stroke=\"currentColor\" fill=\"none\"><line x1=\"28\" y1=\"8\" x2=\"36\" y2=\"8\" /><line x1=\"28\" y1=\"32\" x2=\"36\" y2=\"32\" /><line x1=\"28\" y1=\"56\" x2=\"36\" y2=\"56\" /></svg>;\r\nconst ICON_DROPDOWN_ARROW = <svg strokeWidth=\"8\" viewBox=\"0 0 13.409 8.091\"><g transform=\"translate(0.688 0.726)\"><path d=\"M6.53,18.86l6.279,5.956L18.53,18.86\" transform=\"translate(-6.53 -18.86)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" /></g></svg>;\r\nconst ICON_CHECK = <svg strokeWidth=\"6\" viewBox=\"0 0 17.75 17.75\"><g transform=\"translate(0.875 0.875)\"><circle cx=\"8\" cy=\"8\" r=\"8\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><path d=\"M15.79,24.834l3.488,2.637,6.163-8.651\" transform=\"translate(-12.916 -14.988)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /></g></svg>;\r\nconst ICON_CALENDAR = <svg viewBox=\"-1 -1 18 19.785\"><g transform=\"translate(0 1.785)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\"><rect width=\"16\" height=\"16\" rx=\"1.75\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><rect x=\"0.875\" y=\"0.875\" width=\"14.25\" height=\"14.25\" rx=\"0.875\" fill=\"none\" /></g><line x2=\"16\" transform=\"translate(0 5.712)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><line y1=\"2.427\" transform=\"translate(3.609)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><line y1=\"2.427\" transform=\"translate(12.162)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><g transform=\"translate(3.188 8.328)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\"><rect width=\"2.195\" height=\"2.195\" stroke=\"none\" /><rect x=\"0.875\" y=\"0.875\" width=\"0.445\" height=\"0.445\" fill=\"none\" /></g><g transform=\"translate(6.853 8.328)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\"><rect width=\"2.195\" height=\"2.195\" stroke=\"none\" /><rect x=\"0.875\" y=\"0.875\" width=\"0.445\" height=\"0.445\" fill=\"none\" /></g><g transform=\"translate(10.472 8.328)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\"><rect width=\"2.195\" height=\"2.195\" stroke=\"none\" /><rect x=\"0.875\" y=\"0.875\" width=\"0.445\" height=\"0.445\" fill=\"none\" /></g><g transform=\"translate(3.252 12.527)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\"><rect width=\"2.195\" height=\"2.195\" stroke=\"none\" /><rect x=\"0.875\" y=\"0.875\" width=\"0.445\" height=\"0.445\" fill=\"none\" /></g><g transform=\"translate(6.92 12.527)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\"><rect width=\"2.195\" height=\"2.195\" stroke=\"none\" /><rect x=\"0.875\" y=\"0.875\" width=\"0.445\" height=\"0.445\" fill=\"none\" /></g><g transform=\"translate(10.538 12.527)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\"><rect width=\"2.195\" height=\"2.195\" stroke=\"none\" /><rect x=\"0.875\" y=\"0.875\" width=\"0.445\" height=\"0.445\" fill=\"none\" /></g></svg>;\r\nconst ICON_SCHEDULLE = <svg strokeWidth=\"6\" viewBox=\"0 0 17.5 18.105\"><g transform=\"translate(0.75 0.75)\"><path d=\"M15.8,23.609H7.127a.78.78,0,0,1-.777-.764V10.407a.777.777,0,0,1,.777-.777H19.552a.777.777,0,0,1,.777.777v6.986\" transform=\"translate(-6.35 -8.071)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.5\" /><line x2=\"13.979\" transform=\"translate(0 4.99)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.5\" /><line y1=\"1.559\" transform=\"translate(3.153)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.5\" /><line y1=\"1.559\" transform=\"translate(10.626)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.5\" /><circle cx=\"3.877\" cy=\"3.877\" r=\"3.877\" transform=\"translate(8.246 8.851)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.5\" /><path d=\"M45.22,36.7v2.844l1.357,1.042\" transform=\"translate(-33.097 -26.698)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.5\" /></g></svg>;\r\nconst ICON_TAG = <svg strokeWidth=\"6\" viewBox=\"0 0 19.5 19.345\"><g transform=\"translate(1.75 1.75)\"><g transform=\"translate(-7.42 -7.85)\" fill=\"none\" strokeLinecap=\"square\"><path d=\"M7.42,14.558V8.165a.315.315,0,0,1,.315-.315h7.122a.331.331,0,0,1,.224.091l8.244,8.247a.315.315,0,0,1,0,.451L15.973,23.6a.315.315,0,0,1-.451,0L7.5,14.773A.337.337,0,0,1,7.42,14.558Z\" stroke=\"none\" /><path d=\"M 7.735389709472656 7.850000381469727 C 7.561208724975586 7.850000381469727 7.420000076293945 7.991209030151367 7.420000076293945 8.165390014648438 L 7.420000076293945 14.55834007263184 C 7.421428680419922 14.63722038269043 7.450439453125 14.71310043334961 7.501998901367188 14.7728099822998 L 15.52236938476563 23.60055923461914 C 15.58169937133789 23.6612491607666 15.66299915313721 23.69545936584473 15.74786949157715 23.69545936584473 C 15.83273887634277 23.69545936584473 15.91402912139893 23.6612491607666 15.97336959838867 23.60055923461914 L 23.32510948181152 16.6399097442627 C 23.38578796386719 16.58057975769043 23.41999816894531 16.4992790222168 23.41999816894531 16.41440963745117 C 23.41999816894531 16.32952880859375 23.38578796386719 16.24823951721191 23.32510948181152 16.18890953063965 L 15.08081912994385 7.941459655761719 C 15.02037906646729 7.883829116821289 14.94039916992188 7.851160049438477 14.85688877105713 7.850000381469727 L 7.735389709472656 7.850000381469727 M 7.735389709472656 6.100000381469727 L 14.85688877105713 6.100000381469727 L 14.86903953552246 6.100000381469727 L 14.88119888305664 6.100170135498047 C 15.407639503479 6.107479095458984 15.90741920471191 6.311599731445313 16.28845977783203 6.674930572509766 L 16.30365943908691 6.689420700073242 L 16.31848907470703 6.704259872436523 L 24.55835151672363 14.94728088378906 C 24.94723701477051 15.33273124694824 25.16999816894531 15.8666353225708 25.16999816894531 16.41440963745117 C 25.16999816894531 16.96677017211914 24.94348907470703 17.50502967834473 24.54854965209961 17.89118957519531 L 24.53849983215332 17.90102005004883 L 24.52827835083008 17.91069030761719 L 17.18978881835938 24.85879516601563 C 16.80645179748535 25.23223876953125 16.2838020324707 25.44545936584473 15.74786949157715 25.44545936584473 C 15.19544887542725 25.44545936584473 14.65714836120605 25.21891021728516 14.27098846435547 24.82390022277832 L 14.24862861633301 24.8010196685791 L 14.22711944580078 24.7773494720459 L 6.206748962402344 15.94960021972656 L 6.191898345947266 15.93325996398926 L 6.177469253540039 15.91654968261719 C 5.85923957824707 15.54800033569336 5.679109573364258 15.07691955566406 5.670289993286133 14.59005928039551 L 5.670000076293945 14.57419967651367 L 5.670000076293945 14.55834007263184 L 5.670000076293945 8.165390014648438 C 5.670000076293945 7.026529312133789 6.596529006958008 6.100000381469727 7.735389709472656 6.100000381469727 Z\" stroke=\"none\" fill=\"currentColor\" /></g><g transform=\"translate(2.801 2.575)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.75\"><circle cx=\"1.224\" cy=\"1.224\" r=\"1.224\" stroke=\"none\" /><circle cx=\"1.224\" cy=\"1.224\" r=\"2.099\" fill=\"none\" /></g></g></svg>;\r\nconst ICON_ADD_TAG = <svg strokeWidth=\"6\" viewBox=\"0 0 28 28\"><g transform=\"translate(2 2)\"><g fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\"><rect width=\"24\" height=\"24\" stroke=\"none\" /><rect x=\"-1\" y=\"-1\" width=\"26\" height=\"26\" fill=\"none\" /></g><g transform=\"translate(4 4)\"><line y2=\"16\" transform=\"translate(8)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line x2=\"16\" transform=\"translate(0 8)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /></g></g></svg>;\r\nconst ICON_ASSIGNEES = <svg strokeWidth=\"6\" viewBox=\"0 0 19.5 14.363\"><g transform=\"translate(0.75 0.75)\"><circle cx=\"2.77\" cy=\"2.77\" r=\"2.77\" transform=\"translate(2.851)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.5\" /><path d=\"M18.8,40.345A5.605,5.605,0,0,0,13.2,34.74h0A5.605,5.605,0,0,0,7.59,40.345Z\" transform=\"translate(-7.59 -27.482)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.5\" /><circle cx=\"2.231\" cy=\"2.231\" r=\"2.231\" transform=\"translate(11.244 2.253)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.5\" /><path d=\"M38.38,42.214h6.645A4.514,4.514,0,0,0,40.5,37.7h0a5.375,5.375,0,0,0-2.307.623\" transform=\"translate(-27.025 -29.351)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.5\" /></g></svg>;\r\nconst ICON_ADD_USER = <svg strokeWidth=\"6\" viewBox=\"0 0 36 36\"><g fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\"><circle cx=\"18\" cy=\"18\" r=\"18\" stroke=\"none\" /><circle cx=\"18\" cy=\"18\" r=\"17\" fill=\"none\" /></g><g transform=\"translate(10 10)\"><line y2=\"16\" transform=\"translate(8)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line x2=\"16\" transform=\"translate(0 8)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /></g></svg>;\r\nconst ICON_ARROW_RIGHT = <svg viewBox=\"0 0 19.41 15.149\"><g transform=\"translate(0 0.688)\"><line x1=\"18\" transform=\"translate(0 7.129)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><path d=\"M38.55,14.63l6.824,7.192L38.55,28.369\" transform=\"translate(-27.374 -14.63)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /></g></svg>;\r\nconst ICON_DUPLICATE = <svg viewBox=\"0 0 17.752 19.052\"><g transform=\"translate(0.875 0.875)\"><rect width=\"13.001\" height=\"14.124\" rx=\"1.25\" transform=\"translate(0 3.177)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.75\" /><path d=\"M19.348,11.27v-.437a1.345,1.345,0,0,1,1.276-1.4h10.3a1.345,1.345,0,0,1,1.276,1.4V22.151a1.345,1.345,0,0,1-1.276,1.4h-.441\" transform=\"translate(-16.197 -9.43)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.75\" /></g></svg>;\r\nconst ICON_ATTACH = <svg viewBox=\"0 0 15.717 17.443\"><path d=\"M25.171,17.179l-6.447,6.44a4.474,4.474,0,0,1-6.074-.163C10.9,21.7,10.605,19.2,12.306,17.444c1.813-1.875,5.526-5.526,7.506-7.506a2.953,2.953,0,0,1,4.413.025,2.928,2.928,0,0,1,0,4.286L17.2,21.3a1.672,1.672,0,0,1-2.5-.022,1.722,1.722,0,0,1,.131-2.415l6.527-6.487\" transform=\"translate(-10.198 -8.053)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /></svg>;\r\nconst ICON_SAVE_TEMPLATE = <svg viewBox=\"0 0 15.5 19.054\"><g transform=\"translate(0.75 0.75)\"><path d=\"M18.891,21.977H11.06V10.05l4-4.3h8.577V17.008\" transform=\"translate(-11.06 -5.75)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><path d=\"M15.066,5.75l-.007,4.3h-4\" transform=\"translate(-11.06 -5.75)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line x2=\"4.016\" transform=\"translate(1.722 13.351)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line x2=\"5.019\" transform=\"translate(1.722 11.168)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line x2=\"9.031\" transform=\"translate(1.722 9.128)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line x2=\"9.031\" transform=\"translate(1.722 7.089)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><circle cx=\"3.347\" cy=\"3.347\" r=\"3.347\" transform=\"translate(7.306 10.86)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line y2=\"3.665\" transform=\"translate(10.653 12.375)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line x2=\"3.661\" transform=\"translate(8.824 14.207)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /></g></svg>;\r\nconst ICON_STAR = <svg viewBox=\"0 0 19.77 18.578\"><path d=\"M17.691,10.17l2.619,5.2a.211.211,0,0,0,.161.115l5.836.831a.218.218,0,0,1,.115.383L22.21,20.717a.214.214,0,0,0-.061.2l1,5.7a.214.214,0,0,1-.31.23L17.6,24.16a.226.226,0,0,0-.2,0l-5.235,2.681a.214.214,0,0,1-.31-.23l1-5.7a.214.214,0,0,0-.061-.2L8.576,16.688a.218.218,0,0,1,.115-.383l5.844-.831a.211.211,0,0,0,.161-.115l2.612-5.189a.214.214,0,0,1,.383,0Z\" transform=\"translate(-7.614 -9.177)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /></svg>;\r\nconst ICON_TRASH = <svg viewBox=\"0 0 28.646 42\"><g transform=\"translate(1 1)\"><path d=\"M35.987,43.15H17.54a.683.683,0,0,1-.683-.683L15.49,17.87H38.016l-1.366,24.6A.683.683,0,0,1,35.987,43.15Z\" transform=\"translate(-13.447 -10.15)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" /><path d=\"M38.8,16.275H12.842c-.191,0-.342-.109-.342-.239l.635-2.972a.335.335,0,0,1,.342-.2H38.169a.335.335,0,0,1,.342.2l.635,2.972C39.146,16.166,39,16.275,38.8,16.275Z\" transform=\"translate(-12.5 -8.562)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" /><line y2=\"17.081\" transform=\"translate(7.857 11.526)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" /><line y2=\"17.081\" transform=\"translate(13.323 11.526)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" /><line y2=\"17.081\" transform=\"translate(18.789 11.526)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" /><path d=\"M25.73,10.868V7.253a.683.683,0,0,1,.683-.683h7.2a.683.683,0,0,1,.683.683v3.614\" transform=\"translate(-16.691 -6.57)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" /></g></svg>;\r\nconst ICON_INFO = <svg viewBox=\"0 0 34 34\"><g transform=\"translate(1 1)\"><line y1=\"0.383\" transform=\"translate(16.04 8.548)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.75\" /><line y1=\"8.635\" x2=\"0.1\" transform=\"translate(16.04 16.14)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.75\" /><circle cx=\"16\" cy=\"16\" r=\"16\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.75\" /></g></svg>;\r\nconst ICON_SHARE = <svg viewBox=\"0 0 29.211 34\"><g transform=\"translate(1 1)\"><ellipse cx=\"4.436\" cy=\"4.354\" rx=\"4.436\" ry=\"4.354\" transform=\"translate(18.339)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><ellipse cx=\"4.436\" cy=\"4.197\" rx=\"4.436\" ry=\"4.197\" transform=\"translate(0 11.803)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><ellipse cx=\"4.436\" cy=\"4.354\" rx=\"4.436\" ry=\"4.354\" transform=\"translate(18.339 23.292)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><line y1=\"6.995\" x2=\"11.015\" transform=\"translate(8.078 6.688)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><line x2=\"11.015\" y2=\"6.995\" transform=\"translate(8.078 18.317)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /></g></svg>;\r\nconst ICON_BIN = <svg viewBox=\"0 0 28.646 35\"><g transform=\"translate(1 1)\"><path d=\"M35.987,43.15H17.54a.683.683,0,0,1-.683-.683L15.49,17.87H38.016l-1.366,24.6A.683.683,0,0,1,35.987,43.15Z\" transform=\"translate(-13.447 -10.15)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><path d=\"M38.8,16.275H12.842c-.191,0-.342-.109-.342-.239l.635-2.972a.335.335,0,0,1,.342-.2H38.169a.335.335,0,0,1,.342.2l.635,2.972C39.146,16.166,39,16.275,38.8,16.275Z\" transform=\"translate(-12.5 -8.562)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line y2=\"17.081\" transform=\"translate(7.857 11.526)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line y2=\"17.081\" transform=\"translate(13.323 11.526)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><line y2=\"17.081\" transform=\"translate(18.789 11.526)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /><path d=\"M25.73,10.868V7.253a.683.683,0,0,1,.683-.683h7.2a.683.683,0,0,1,.683.683v3.614\" transform=\"translate(-16.691 -6.57)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" /></g></svg>;\r\nconst ICON_COPY = <svg viewBox=\"0 0 17.752 19.052\"><g transform=\"translate(0.875 0.875)\"><rect width=\"13.001\" height=\"14.124\" rx=\"1.25\" transform=\"translate(0 3.177)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.0\" /><path d=\"M19.348,11.27v-.437a1.345,1.345,0,0,1,1.276-1.4h10.3a1.345,1.345,0,0,1,1.276,1.4V22.151a1.345,1.345,0,0,1-1.276,1.4h-.441\" transform=\"translate(-16.197 -9.43)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"square\" strokeWidth=\"1.0\" /></g></svg>;\r\nconst ICON_CROSS = <svg viewBox=\"0 0 31.422 31.406\"><g transform=\"translate(0.711 0.703)\"><line x2=\"29.668\" y2=\"30\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><line x1=\"29.668\" y2=\"30\" transform=\"translate(0.332)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /></g></svg>;\r\nconst ICON_LINK = <svg viewBox=\"0 0 15.25 19.032\"><g transform=\"translate(0.125 0.125)\"><g><path d=\"M12.67,2a2,2,0,0,1,1.985,1.777h1.567a2,2,0,0,1,2,1.863l0,.137v7.333H16.889V5.778a.667.667,0,0,0-.576-.661l-.09-.006H14.327a2,2,0,0,1-1.658.883H9.553a2,2,0,0,1-1.658-.883H6a.667.667,0,0,0-.661.576l-.006.09v12A.675.675,0,0,0,6,18.455v1.327a2,2,0,0,1-2-1.863l0-.137v-12a2,2,0,0,1,1.863-2l.137,0H7.568A2,2,0,0,1,9.553,2Zm2.108,12.111h.889a3.333,3.333,0,0,1,.18,6.662l-.177,0-.889,0a.667.667,0,0,1-.1-1.327l.09-.006.892,0a2,2,0,0,0,.137-4l-.137,0h-.889a.667.667,0,0,1-.09-1.327l.09-.006h0Zm-4.444,0h.889a.667.667,0,0,1,.09,1.327l-.09.006h-.889a2,2,0,0,0-.137,4l.137,0h.889a.667.667,0,0,1,.09,1.327l-.09.006h-.889a3.333,3.333,0,0,1-.177-6.662l.177,0h0Zm0,2.667h5.333a.667.667,0,0,1,.09,1.327l-.09.006H10.333a.667.667,0,0,1-.09-1.327l.09-.006h0ZM12.67,3.333H9.553a.664.664,0,1,0,0,1.327H12.67a.664.664,0,1,0,0-1.327Z\" transform=\"translate(-4 -2)\" stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0.5\" /></g></g></svg>;\r\nconst ICON_FORWARD = <svg viewBox=\"0 0 18.893 17.766\"><g transform=\"translate(0.875 0.891)\"><path d=\"M10.272,20.66h3.194v6.308H10.272a.762.762,0,0,1-.762-.762V21.422A.762.762,0,0,1,10.272,20.66Z\" transform=\"translate(-9.51 -16.986)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><path d=\"M19.89,21V14.694s1.666.038,4.436,0,6.014-1.791,8.122-3.583a.381.381,0,0,1,.629.286V24.314a.381.381,0,0,1-.614.3c-1.357-1.067-4.734-3.453-8-3.552C22.546,21,21,21,19.89,21Z\" transform=\"translate(-15.934 -11.02)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /><path d=\"M18.463,43.234H16.633a.762.762,0,0,1-.762-.762L15.49,37.22h3.354l.381,5.252A.762.762,0,0,1,18.463,43.234Z\" transform=\"translate(-13.211 -27.234)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.75\" /></g></svg>;\r\nconst ICON_ARCHIVE = <svg viewBox=\"0 0 18.5 18\"><g transform=\"translate(0.25 0.25)\"><path d=\"M17.473,60.25H.527A.527.527,0,0,0,0,60.777v3.177a.527.527,0,0,0,.527.527h.532v9a.527.527,0,0,0,.527.527H16.414a.527.527,0,0,0,.527-.527v-9h.532A.527.527,0,0,0,18,63.955V60.777A.527.527,0,0,0,17.473,60.25ZM15.886,72.959H2.114V64.482H15.886Zm1.059-9.532H1.055V61.3H16.945Z\" transform=\"translate(0 -60.25)\" stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0.5\" /><path d=\"M182.336,214.048h2.118a1.586,1.586,0,0,0,0-3.173h-2.118a1.586,1.586,0,0,0,0,3.173Zm0-2.118h2.118a.532.532,0,0,1,0,1.063h-2.118a.532.532,0,0,1,0-1.063Z\" transform=\"translate(-174.396 -205.58)\" stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0.5\" /></g></svg>;\r\nconst ICON_SUBSCRIBE = <svg viewBox=\"0 0 16.17 19.5\"><g transform=\"translate(0.75 0.75)\"><path d=\"M12,26.816V24.96A1.9,1.9,0,0,0,13.852,23.1V17.237a4.875,4.875,0,0,1,5.237-4.867c4.647,0,5.747,2.707,5.747,4.691v6.374s-.136,1.54,1.834,1.54v1.834Z\" transform=\"translate(-12 -10.569)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.75\" /><path d=\"M30.958,9.4V8.894a1.434,1.434,0,1,0-2.868,0v.462\" transform=\"translate(-22.189 -7.46)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.75\" /><path d=\"M29.946,51.76a1.753,1.753,0,1,1-3.506,0\" transform=\"translate(-21.144 -35.513)\" fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeWidth=\"1.75\" /></g></svg>;\r\nconst ICON_EDIT = <svg viewBox=\"0 0 18.002 18.055\"><g transform=\"translate(1.002 1)\"><path d=\"M10.353,23.206l-.277,2.448a.365.365,0,0,0,.4.4l2.434-.281a.365.365,0,0,0,.215-.106L25.859,12.9a.73.73,0,0,0,0-1.033l-1.638-1.645a.73.73,0,0,0-1.036,0L10.459,22.994a.365.365,0,0,0-.106.212Z\" transform=\"translate(-10.073 -10.008)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"/><line x2=\"2.638\" y2=\"2.714\" transform=\"translate(11.397 1.934)\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"/></g></svg>;\r\n\r\n\r\nexport {ICON_DESCRIPTION, ICON_PLUS, ICON_UNLOCKED, ICON_OPTIONS, ICON_DROPDOWN_ARROW, ICON_CHECK, ICON_CALENDAR, ICON_SCHEDULLE, ICON_TAG, ICON_ADD_TAG, ICON_ASSIGNEES, ICON_ADD_USER, ICON_ARROW_RIGHT, ICON_DUPLICATE, ICON_ATTACH, ICON_SAVE_TEMPLATE, ICON_STAR, ICON_TRASH, ICON_INFO, ICON_SHARE, ICON_BIN, ICON_COPY, ICON_CROSS, ICON_LINK, ICON_FORWARD, ICON_ARCHIVE, ICON_SUBSCRIBE, ICON_EDIT};","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Draggable } from \"react-drag-and-drop\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {ICON_DESCRIPTION, ICON_CHECK} from \"../../svg/icons\";\r\n\r\n\r\nclass Card extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.name = props.name;\r\n    this.column = props.column;\r\n    this.id = props.id;\r\n    this.state = {\r\n      name: props.name,\r\n      tags: props.tags,\r\n      column: props.column,\r\n      assignees: props.assignees,\r\n      taskList: props.taskList,\r\n      description: props.description\r\n    };\r\n  }\r\n\r\n  updateState(updated_state) {\r\n    updated_state = Object.assign(this.state, updated_state);\r\n    this.name = updated_state.name\r\n    this.setState(updated_state);\r\n    let cards = window.board.state.cards;\r\n    cards[this.props.id] = Object.assign(cards[this.props.id], updated_state);\r\n    window.board.updateState({cards: cards});\r\n  }\r\n\r\n  setDescription(description) {\r\n    this.updateState({ description: description });\r\n    try {\r\n      document.getElementById(\"displayed-card-description\").innerText = description\r\n    }\r\n    catch {}\r\n  }\r\n\r\n  setTask(i, new_task) {\r\n    let tasks = this.state.taskList;\r\n    tasks[i].task = new_task;\r\n    this.updateState({ taskList: tasks });\r\n  }\r\n\r\n  setName(name) {\r\n    if(name === \"\") {\r\n      name = \"Issue #\" + this.props.id;\r\n    }\r\n    this.name = name;\r\n    this.updateState({ name: name });\r\n    try {\r\n      document.getElementById(\"displayed-card-name\").innerText = name\r\n    }\r\n    catch {}\r\n  }\r\n\r\n  setColumn(new_column) {\r\n    let all_columns = window.board.state.columns;\r\n    all_columns[this.state.column].cards.splice(all_columns[this.state.column].cards.indexOf(this.id), 1);\r\n    all_columns[new_column].cards.push(this.id);\r\n    window.board.updateState({columns: all_columns});\r\n    this.updateState({column: new_column});\r\n  }\r\n\r\n  addTag(tag) {\r\n    this.updateState({tags: this.state.tags + [tag] });\r\n  }\r\n\r\n  addAssignee(assignee) {\r\n    this.updateState({ assignees: this.state.assignees + [assignee] });\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.name !== window.board.state.cards[this.props.id].name\r\n     || this.state.description !== window.board.state.cards[this.props.id].description) {\r\n      this.name = window.board.state.cards[this.props.id].name;\r\n      this.updateState({\r\n        \"description\" : window.board.state.cards[this.props.id].description, \r\n        \"name\" : window.board.state.cards[this.props.id].name\r\n      });\r\n    }\r\n\r\n    let large_tag_count = 0;//this.renderTags();\r\n    let rendered_tags = [];\r\n    let class_name;\r\n    for (let i = 0; i < this.state.tags.length; ++i) {\r\n      if (i < large_tag_count)\r\n        class_name = \"tag-hidden tag-large\";\r\n      else\r\n        class_name = \"tag-hidden tag-small\";\r\n      try {\r\n        class_name += \" tag-color-\" + window.board.state.tags[this.state.tags[i]].color;\r\n      }\r\n      catch {\r\n        class_name += \" tag-color-\" + this.state.tags[i];\r\n      }\r\n      rendered_tags.push(<div className={class_name}></div>);\r\n    }\r\n\r\n    let task_list_components = [];\r\n    if(this.state.taskList.length > 0) {\r\n      let taskList = this.state.taskList;\r\n      taskList.forEach(task => {\r\n        if(task.done)\r\n        task_list_components = [<li className={\"task-done\"}/>].concat(task_list_components);\r\n        else\r\n          task_list_components.push(<li className={\"task-todo\"}/>);\r\n      });\r\n      task_list_components =  <ol className=\"task-list\">\r\n                                <li>{ICON_CHECK}</li>\r\n                                {task_list_components}\r\n                              </ol>;\r\n    }\r\n\r\n    return (\r\n      <Draggable type=\"card\" data={this.id}>\r\n        <Link to={`/board=${window.board.id}/card=${this.id}`} className=\"card\" onClick={() => { window.board.displayCard(this.id); console.log(this.id) }}>\r\n          <p>{this.name}</p>\r\n          {task_list_components}\r\n          <div>\r\n            {(this.state.description === \"\" || this.state.description === undefined) ? null : ICON_DESCRIPTION}\r\n            <span>#{window.board.state.project_id}-{this.props.id}</span>\r\n            {rendered_tags}\r\n          </div>\r\n          {this.state.assignees.length >= 3 ? <img src={window.users[this.state.assignees[2]].avatar} alt={window.users[this.state.assignees[2]].name.toString()} style={{ right: '2.75rem' }} /> : null}\r\n          {this.state.assignees.length >= 2 ? <img src={window.users[this.state.assignees[1]].avatar} alt={window.users[this.state.assignees[1]].name.toString()} style={{ right: '1.75rem' }} /> : null}\r\n          {this.state.assignees.length >= 1 ? <img src={window.users[this.state.assignees[0]].avatar} alt={window.users[this.state.assignees[0]].name.toString()} /> : null}\r\n        </Link>\r\n      </Draggable>\r\n\r\n    );\r\n  }\r\n\r\n  // Calculate how many tags will be rendered in full length depending on how much space is available\r\n  renderTags() {\r\n    let large_tag_count;\r\n    try {\r\n      let column_width = ReactDOM.findDOMNode(this).clientWidth;\r\n      column_width -= ReactDOM.findDOMNode(this).getElementsByTagName(\"span\")[0].clientWidth; // ID width and margins\r\n      column_width /= window.font_size;\r\n      column_width -= 3.0; // Card margins and padding\r\n      if (this.state.description !== \"\")\r\n        column_width -= 1.5; // Description icon\r\n      column_width -= 1.25; // Right margin\r\n      if (this.state.assignees.length >= 1)\r\n        column_width -= 2.75; // Assignee avatar\r\n      if (this.state.assignees.length >= 2)\r\n        column_width -= 1.25; // 2nd assignee avatar\r\n      if (this.state.assignees.length >= 3)\r\n        column_width -= 1.0; // 3nd assignee avatar\r\n\r\n      large_tag_count = column_width / 3.5;\r\n      let small_tag_count = this.state.tags.length - large_tag_count;\r\n      while (large_tag_count > 0 && large_tag_count * 3.5 + small_tag_count * 1.0 > column_width) {\r\n        large_tag_count--;\r\n        small_tag_count++;\r\n      }\r\n      large_tag_count += 0.75;\r\n    }\r\n    catch (e) {\r\n      large_tag_count = 0;\r\n    }\r\n    return (large_tag_count);\r\n  }\r\n\r\n  // On resize, re-calculate how many tags have the space to be fully displayed and tasklist bar width\r\n  resize = () => {\r\n    let large_number = this.renderTags();\r\n    let i = 1;\r\n    while (i <= this.state.tags.length) {\r\n      if (i < large_number + 0.5) {\r\n        ReactDOM.findDOMNode(this).getElementsByClassName(\"tag-hidden\")[i - 1].classList.remove(\"tag-small\");\r\n        ReactDOM.findDOMNode(this).getElementsByClassName(\"tag-hidden\")[i - 1].classList.add(\"tag-large\");\r\n      }\r\n      else {\r\n        ReactDOM.findDOMNode(this).getElementsByClassName(\"tag-hidden\")[i - 1].classList.remove(\"tag-large\");\r\n        ReactDOM.findDOMNode(this).getElementsByClassName(\"tag-hidden\")[i - 1].classList.add(\"tag-small\");\r\n      }\r\n      i++;\r\n    }\r\n    let task_list = ReactDOM.findDOMNode(this).getElementsByClassName(\"task-list\")[0];\r\n    if(task_list !== undefined) {\r\n      task_list.style.marginRight = (this.state.taskList.length > 0 ? 1.75 : 0) + Math.min(3, this.state.assignees.length) * 1.5 + \"rem\";\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.resize();\r\n    window.addEventListener('resize', this.resize);\r\n    // Save the resize function, as it is useful for cases other than actual resize\r\n    window.board.state.cards[this.props.id].resizeFunction = this.resize;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.resize);\r\n    if(this.props.id in window.board.state.cards && !(this.props.id in window.board.state.archived))\r\n      delete window.board.state.cards[this.props.id].resizeFunction;\r\n  }\r\n\r\n}\r\n\r\nCard.defaultProps = {\r\n  tags: [],\r\n  name: '',\r\n  creator: 1,\r\n  assignees: [1, 2],\r\n  taskList: [],\r\n  description: '',\r\n  creation_date: \"11.10.2020\"\r\n};\r\n\r\nexport default Card;","import React from \"react\";\r\nimport { Droppable } from \"react-drag-and-drop\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ICON_PLUS, ICON_UNLOCKED, ICON_OPTIONS } from \"../../svg/icons\";\r\n\r\nexport default class Column extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.id = props.id;\r\n    this.state = {\r\n      name: props.name,\r\n      cards: props.cards,\r\n      locked: props.locked,\r\n      description: props.description\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n      <div className=\"col-12 col-sm-4 col-lg-2\">\r\n        <div className=\"card-column\">\r\n          <div className=\"header\">\r\n            <div className=\"column-header-name\">\r\n              {this.state.locked ? null : ICON_UNLOCKED}\r\n              <h3>{this.state.name}</h3>\r\n            </div>\r\n            <div className=\"column-header-options\">\r\n              <button onClick={() => { window.board.addCard(this.id, { name: \"\", description: \"\", column: this.id, tags: [], assignees: [] }, true); /*this.resize();*/ }}>\r\n                {ICON_PLUS}\r\n              </button>\r\n              {ICON_OPTIONS}\r\n            </div>\r\n          </div>\r\n          <div className=\"card-list\">\r\n            <Droppable\r\n              types={[\"card\"]}\r\n              onDrop={this.onDrop.bind(this)}>\r\n              <ol className=\"card-list-droppable\">\r\n                {this.props.children}\r\n              </ol>\r\n            </Droppable>\r\n            <button className=\"add-card-button\" onClick={() => { window.board.addCard(this.id, { name: \"\", description: \"\", column: this.id, tags: [], assignees: [] }) }}>\r\n              <Link to={`/board=${window.board.id}/card=${window.board.next_id}`}>\r\n                {ICON_PLUS}\r\n              </Link>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    );\r\n  }\r\n\r\n  onDrop(data) {\r\n    let card_id = data.card,\r\n      card = window.board.state.cards[card_id],\r\n      all_columns = window.board.state.columns;\r\n    if (this.id === card.column)\r\n      return;\r\n    all_columns[card.column].cards.splice(all_columns[card.column].cards.indexOf(card_id), 1);\r\n    all_columns[this.id].cards.push(card_id);\r\n\r\n    window.board.updateState({ columns: all_columns });\r\n    this.setState({\r\n      name: this.state.name,\r\n      locked: this.state.locked,\r\n      description: this.state.description,\r\n      cards: all_columns[this.id]\r\n    });\r\n\r\n  }\r\n\r\n  resize = () => {\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.resize();\r\n    window.addEventListener('resize', this.resize);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.resize);\r\n  }\r\n}\r\n\r\nColumn.defaultProps = {\r\n  locked: true,\r\n  description: '',\r\n  cards: {}\r\n};","import React from \"react\";\r\nimport ContentEditable from \"react-contenteditable\";\r\nimport sanitizeHtml from \"sanitize-html\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ICON_DESCRIPTION, ICON_PLUS, ICON_CHECK, ICON_CALENDAR, ICON_SCHEDULLE, ICON_TAG, ICON_ADD_TAG, ICON_ASSIGNEES, ICON_ADD_USER, ICON_ARROW_RIGHT, ICON_DUPLICATE, ICON_ATTACH, ICON_SAVE_TEMPLATE, ICON_STAR, ICON_TRASH, ICON_INFO, ICON_SHARE, ICON_BIN, ICON_COPY, ICON_CROSS, ICON_LINK, ICON_FORWARD, ICON_ARCHIVE, ICON_SUBSCRIBE, ICON_EDIT } from \"../../svg/icons\";\r\n\r\nimport Card from \"../Card/Card\";\r\n\r\nclass DisplayedCard extends Card {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.descriptionComponent = React.createRef();\r\n    this.nameComponent = React.createRef();\r\n  };\r\n\r\n  removeTask(i) {\r\n    let taskList = this.state.taskList;\r\n    taskList.splice(i, 1);\r\n    this.updateState({ taskList: taskList });\r\n    // Remove event listener\r\n    //document.getElementById(\"task-\" + i).removeEventListener(\"change\");\r\n    let cards = window.board.state.cards;\r\n    cards[this.props.id].taskList = taskList;\r\n    window.board.updateState({ cards: cards });\r\n    for (let j = 0; j < taskList.length; j++) {\r\n      const task = document.getElementById(\"task-\" + j);\r\n      task.checked = taskList[j].done;\r\n    }\r\n\r\n  }\r\n\r\n  removeTag(tag) {\r\n    let tags = this.state.tags;\r\n    tags.splice(this.state.tags.indexOf(tag), 1);\r\n    this.updateState({ tags: tags });\r\n    let cards = window.board.state.cards;\r\n    cards[this.props.id].tags = tags;\r\n    window.board.updateState({ cards: cards });\r\n  }\r\n\r\n  removeAssignee(assignee) {\r\n    let assignees = this.state.assignees;\r\n    assignees.splice(this.state.assignees.indexOf(assignee), 1);\r\n    this.updateState({ assignees: assignees });\r\n    let cards = window.board.state.cards;\r\n    cards[this.props.id].assignees = assignees;\r\n    window.board.updateState({ cards: cards });\r\n  }\r\n\r\n  editContent(event, exitOnEnter = true) {\r\n    let element = event.target;\r\n    if (event.key === \"Escape\") {\r\n      // restore state\r\n      document.execCommand(\"undo\");\r\n      element.blur();\r\n    }\r\n    else if (event.key === \"Enter\" && exitOnEnter) {\r\n      element.blur();\r\n    }\r\n  }\r\n\r\n  addDescription() {\r\n    document.getElementById(\"displayed-card-description\").style.display = \"inline-block\";\r\n    document.getElementById(\"displayed-card-description\").focus();\r\n    document.getElementById(\"add-description\").style.display = \"none\";\r\n  }\r\n\r\n  descriptionSanitizeConf = {\r\n    allowedTags: [\"b\", \"i\", \"em\", \"strong\", \"a\", \"p\", \"br\", \"div\"],\r\n    allowedAttributes: { a: [\"href\"] }\r\n  };\r\n\r\n  nameSanitizeConf = {\r\n    allowedTags: [],\r\n    allowedAttributes: {}\r\n  };\r\n\r\n  render() {\r\n\r\n    let select_column = [];\r\n    for (const column_id in window.board.state.columns) {\r\n      if (window.board.state.columns.hasOwnProperty(column_id)) {\r\n        const column = window.board.state.columns[column_id];\r\n        select_column.push(<option value={column.id}>{column.name}</option>);\r\n      }\r\n    }\r\n    select_column = <select id=\"displayed-card-column\"\r\n      value={this.state.column}\r\n      onChange={() => { this.setColumn(parseInt(document.getElementById(\"displayed-card-column\").value)); }}>\r\n      {select_column}\r\n    </select>;\r\n\r\n    let taskList = [];\r\n    for (let i = 0; i < this.state.taskList.length; i++) {\r\n      const task = this.state.taskList[i];\r\n      taskList.push(\r\n        <li className=\"displayed-task\">\r\n          <input id={`task-${i}`} type=\"checkbox\" name={`task-${i}`} style={{ display: \"none\" }} value={`task-${i}`} defaultChecked={task.done} />\r\n          <label className=\"checkbox checkbox-small crossed\" htmlFor={`task-${i}`}>\r\n            <span><svg viewBox=\"0 0 12 9\"><polyline points=\"1 5 4 8 11 1\"></polyline></svg></span>\r\n            <span id={`task-text-${i}`}\r\n              onBlur={() => {\r\n                let elem = document.getElementById(`task-text-${i}`);\r\n                let new_task = elem.innerText;\r\n                if (new_task === \"\") {\r\n                  document.execCommand(\"undo\");\r\n                  elem.blur();\r\n                }\r\n\r\n                else\r\n                  this.setTask(i, new_task);\r\n                elem.contentEditable = false;\r\n              }}\r\n              onKeyDown={e => { this.editContent(e); }}>\r\n              {task.task}\r\n            </span>\r\n          </label>\r\n          <button className=\"edit-task\" onClick={() => { document.getElementById(`task-text-${i}`).contentEditable = true; document.getElementById(`task-text-${i}`).focus(); }}>\r\n            {ICON_EDIT}\r\n          </button>\r\n          <button className=\"remove-task\" onClick={() => { this.removeTask(i); }}>\r\n            <svg viewBox=\"0 0 64 64\" stroke=\"currentColor\" fill=\"currentColor\"><line x1=\"18\" y1=\"32\" x2=\"46\" y2=\"32\" /></svg>\r\n          </button>\r\n        </li>\r\n      );\r\n    }\r\n    taskList.push(\r\n      <button id=\"add-task\">\r\n        {ICON_PLUS}<span>Add</span>\r\n      </button>\r\n    );\r\n\r\n    let tags = [];\r\n    this.state.tags.forEach(tag => {\r\n      try {\r\n        tags.push(\r\n          <span className={`tag-color-${window.board.state.tags[tag].color}`}>\r\n            {window.board.state.tags[tag].name}\r\n            <button className=\"remove-card-tag\" onClick={() => { this.removeTag(tag); }}>\r\n              <svg viewBox=\"0 0 64 64\" stroke=\"currentColor\" fill=\"currentColor\"><line x1=\"18\" y1=\"32\" x2=\"46\" y2=\"32\" /></svg>\r\n            </button>\r\n          </span>\r\n        );\r\n      }\r\n      catch (e) {\r\n        console.log(window.board.state.tags[tag]);\r\n      }\r\n    });\r\n    tags.push(<button id=\"add-tag\">{ICON_ADD_TAG}</button>);\r\n\r\n    let assignees = [];\r\n    this.state.assignees.forEach(assignee => {\r\n      assignees.push(\r\n        <li className=\"displayed-assignee\">\r\n          <div>\r\n            <img src={window.users[assignee].avatar} alt={window.users[assignee].name.toString()} />\r\n            <button className=\"remove-card-assignee\" onClick={() => { this.removeAssignee(assignee); }}>\r\n              <svg viewBox=\"0 0 64 64\" stroke=\"currentColor\" fill=\"currentColor\"><line x1=\"18\" y1=\"32\" x2=\"46\" y2=\"32\" /></svg>\r\n            </button>\r\n            <span>{window.users[assignee].name}</span>\r\n          </div>\r\n        </li>\r\n      );\r\n    });\r\n    assignees.push(\r\n      <li>\r\n        <button id=\"add-assignee\">\r\n          {ICON_ADD_USER}\r\n          <span>Assign</span>\r\n        </button>\r\n      </li>\r\n    );\r\n\r\n    let description;\r\n    let add_btn_style = {};\r\n    let desc_style = {};\r\n    if (this.state.description !== \"\")\r\n      add_btn_style = { \"display\": \"none\" };\r\n\r\n    else\r\n      desc_style = { \"display\": \"none\" };\r\n    description = <div className=\"displayed-card-section displayed-card-description\">\r\n      <div className=\"displayed-card-section-name\">\r\n        {ICON_DESCRIPTION}<span>Description</span>\r\n      </div>\r\n      <ContentEditable\r\n        id=\"displayed-card-description\"\r\n        innerRef={this.descriptionComponent}\r\n        html={this.state.description.toString()} // innerHTML of the editable div\r\n        disabled={false}\r\n        onKeyDown={event => { this.editContent(event, false); }}\r\n        onBlur={event => {\r\n          this.setDescription(sanitizeHtml(event.target.innerHTML, this.descriptionSanitizeConf));\r\n          if (event.target.innerText === '') {\r\n            event.target.style.display = \"none\";\r\n            document.getElementById(\"add-description\").style.display = \"flex\";\r\n          }\r\n        }}\r\n        tagName='p' // Use a custom HTML tag (uses a div by default)\r\n        style={desc_style} />\r\n      <button id=\"add-description\"\r\n        onClick={() => { this.addDescription(); }}\r\n        style={add_btn_style}>\r\n        {ICON_PLUS}<span>Add</span>\r\n      </button>\r\n    </div>;\r\n\r\n    return (\r\n\r\n      <div className=\"displayed-card-background\">\r\n        <div className=\"displayed-card-container\">\r\n          <div className=\"displayed-card col-12 col-sm-10 col-md-8 col-lg-7 col-xl-6\" onClick={(e) => { let evt = e ? e : window.event; if (evt.stopPropagation) { evt.stopPropagation(); } else { evt.cancelBubble = true; } return false; /* Ignore click - to prevent clicks from registering on lower layers */ }}>\r\n            <div className=\"displayed-card-header\">\r\n              <ContentEditable\r\n                id=\"displayed-card-name\"\r\n                innerRef={this.nameComponent}\r\n                disabled={false}\r\n                onBlur={() => {\r\n                  this.setName(document.getElementById(\"displayed-card-name\").innerText);\r\n                }}\r\n                tagName='h2'\r\n                onKeyDown={e => { this.editContent(e); }}\r\n                html={this.state.name} />\r\n              <div>\r\n                <span>in </span>\r\n                {select_column}\r\n              </div>\r\n            </div>\r\n            {description}\r\n            <div className=\"displayed-card-details\">\r\n              <div className=\"displayed-card-section displayed-card-task-list\">\r\n                <div className=\"displayed-card-section-name\">\r\n                  {ICON_CHECK}<span>Task list</span>\r\n                </div>\r\n                <ol>\r\n                  {taskList}\r\n                </ol>\r\n              </div>\r\n              <div className=\"displayed-card-section displayed-card-tags\">\r\n                <div className=\"displayed-card-section-name\">\r\n                  {ICON_TAG}<span>Tags</span>\r\n                </div>\r\n                <div className=\"displayed-card-tag-list\">{tags}</div>\r\n              </div>\r\n              <div className=\"displayed-card-section displayed-card-assignees\">\r\n                <div className=\"displayed-card-section-name\">\r\n                  {ICON_ASSIGNEES}<span>Assignees</span>\r\n                </div>\r\n                <ul>{assignees}</ul>\r\n              </div>\r\n              <div className=\"displayed-card-section displayed-card-files\" style={{ display: \"none\" }}>\r\n                <div className=\"displayed-card-section-name\">\r\n                  {ICON_ATTACH}<span>Files</span>\r\n                </div>\r\n                <button id=\"add-files\">\r\n                  {ICON_PLUS}<span>Attach</span>\r\n                </button>\r\n              </div>\r\n              <div className=\"displayed-card-section displayed-card-due-date\">\r\n                <div className=\"displayed-card-section-name\">\r\n                  {ICON_SCHEDULLE}<span>Due date</span>\r\n                </div>\r\n                <button id=\"add-due-date\">\r\n                  {ICON_CALENDAR}<span>Select</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"displayed-card-options\">\r\n              <button id=\"move-card-button\" onClick={() => { }}>\r\n                {ICON_ARROW_RIGHT}<span>Move</span>\r\n              </button>\r\n              <button id=\"duplicate-card-button\">\r\n                {ICON_DUPLICATE}<span>Duplicate</span>\r\n              </button>\r\n              <button id=\"save-template-card-button\" style={{ display: \"none\" }}>\r\n                {ICON_SAVE_TEMPLATE}<span>Save template</span>\r\n              </button>\r\n              <div className=\"divider\" style={{ display: \"none\" }} />\r\n              <button id=\"subscribe-card-button\" style={{ display: \"none\" }}>\r\n                {ICON_SUBSCRIBE}<span>Subscribe</span>\r\n              </button>\r\n              <button id=\"star-card-button\" style={{ display: \"none\" }}>\r\n                {ICON_STAR}<span>Star</span>\r\n              </button>\r\n              <button id=\"link-card-button\">\r\n                {ICON_LINK}<span>Copy link</span>\r\n              </button>\r\n              <button id=\"forward-card-button\" style={{ display: \"none\" }}>\r\n                {ICON_FORWARD}<span>Forward</span>\r\n              </button>\r\n              <div className=\"divider\" />\r\n              <button id=\"archive-card-button\" onClick={() => { window.board.archiveCard(this.props.id); }}>\r\n                <Link to={`/board=${window.board.id}`}>\r\n                  {ICON_ARCHIVE}<span>Archive</span>\r\n                </Link>\r\n              </button>\r\n              <button id=\"delete-card-button\" className=\"critical-on-hover\"\r\n                onClick={() => { if (window.preferences.warnOnDelete) { window.board.updateState({ dialog: \"delete-confirmation\" }); } else { window.board.deleteCard(this.props.id); } }}>\r\n                <Link to={`/board=${window.board.id}`}>\r\n                  {ICON_TRASH}<span>Delete</span>\r\n                </Link>\r\n              </button>\r\n            </div>\r\n            <div className=\"displayed-card-footer\">\r\n              <div className=\"displayed-card-created\">\r\n                <img src={window.users[this.props.creator].avatar} alt={window.users[this.props.creator].name.toString()} style={{ right: '2.75rem' }} />\r\n                <span className=\"displayed-card-creator\">\r\n                  {window.users[this.props.creator].name} <span>created this card on</span><span className=\"number\"> {this.props.creation_date}</span>\r\n                </span>\r\n              </div>\r\n              <div className=\"displayed-card-id number\">\r\n                #{window.board.state.project_id}-{this.props.id}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"displayed-card-right-buttons\" onClick={e => { let evt = e ? e : window.event; if (evt.stopPropagation) { evt.stopPropagation(); } else { evt.cancelBubble = true; } return false; /* Ignore click - to prevent clicks from registering on lower layers */ }}>\r\n            <div className=\"displayed-card-right-top-buttons\">\r\n              <Link to={`/board=${window.board.id}`} >\r\n                <button>{ICON_CROSS}</button>\r\n              </Link>\r\n              <button>{ICON_INFO}</button>\r\n              <button>{ICON_SHARE}</button>\r\n            </div>\r\n            <div className=\"displayed-card-right-bottom-buttons\">\r\n              <button>{ICON_COPY}</button>\r\n              <button className=\"critical-on-hover\" onClick={() => { if (window.preferences.warnOnDelete) { window.board.updateState({ dialog: \"delete-confirmation\" }); } else { window.board.deleteCard(this.props.id); } }}>{ICON_BIN}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Add event listeners to the tasklist checkboxes\r\n    for (let i = 0; i < this.state.taskList.length; i++) {\r\n      document.getElementById(\"task-\" + i).addEventListener(\"change\", evt => {\r\n        let checkbox = evt.target;\r\n        let task_list = this.state.taskList;\r\n        task_list[i].done = checkbox.checked;\r\n        this.updateState({ taskList: task_list });\r\n        window.board.state.cards[this.props.id].taskList = task_list;\r\n      });\r\n    }\r\n    // If this is a new card, focus on the name input\r\n    if (this.state.name === \"\") {\r\n      document.getElementById(\"displayed-card-name\").focus();\r\n    }\r\n  }\r\n\r\n  // If some of the properties of the card have been changed, we have to re-render it on the board.\r\n  // To do this, we'll simulate a resize, unless the card has been deleted.\r\n  componentWillUnmount() {\r\n    try {\r\n      if (this.props.id in window.board.state.cards && !(this.props.id in window.board.state.archived)) {\r\n        window.board.state.cards[this.props.id].resizeFunction();\r\n      }\r\n    }\r\n    catch { }\r\n    document.activeElement.blur();\r\n  }\r\n\r\n  resize = () => { };\r\n}\r\n\r\nexport default DisplayedCard;","import React from \"react\";\r\nimport { Redirect, Route, Switch, Link } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\nimport BinaryHeap from \"../../BinaryHeap\";\r\n\r\nimport Card from \"../Card/Card\";\r\nimport Column from \"../Column/Column\";\r\nimport DisplayedCard from \"../DisplayedCard/DisplayedCard\";\r\n\r\nconst shortcut = require(\"../../shortcut.js\").shortcut;\r\n\r\n\r\nclass Board extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.id = props.id;\r\n    this.state = {\r\n      project_id: props.project_id,\r\n      name: props.name,\r\n      cards: props.cards,\r\n      columns: props.columns,\r\n      tags: props.tags,\r\n      users: props.users,\r\n      idCurrent: props.idCurrent,\r\n      idAvailable: props.idAvailable,\r\n      idReuseMode: props.idReuseMode,\r\n      archived: props.archived,\r\n      displayedCard: props.displayedCard,\r\n      dialog: props.dialog,\r\n    };\r\n    if (props.idCurrent === undefined || props.idCurrent === -1) {\r\n      this.state.idCurrent = Math.max(Object.keys(this.state.cards)) + 1;\r\n      for (let i = 1; i < this.state.idCurrent; i++)\r\n        if (!(i in this.state.cards))\r\n          this.state.idAvailable.push(i);\r\n    }\r\n    window.board = this;\r\n  }\r\n\r\n  updateState(updated_state) {\r\n    updated_state = Object.assign(this.state, updated_state);\r\n    this.setState(updated_state);\r\n  }\r\n\r\n  addCard(column_id, card, first = false) {\r\n    card.id = this.getCardID();\r\n    let cards = this.state.cards;\r\n    let columns = this.state.columns;\r\n    if (first)\r\n      columns[column_id].cards = [card.id].concat(columns[column_id].cards);\r\n    else\r\n      columns[column_id].cards.push(card.id);\r\n    cards[card.id] = card;\r\n    this.updateState({ cards: cards, columns: columns, displayedCard: card.id });\r\n    window.history.pushState(\"Card \" + card.id, \"Card #\" + card.id, `/board=${window.board.id}/card=${card.id}`);\r\n    return card.id;\r\n  }\r\n\r\n  getCardID() {\r\n    let id;\r\n    if (this.state.idAvailable.isEmpty()) {\r\n      id = this.state.idCurrent;\r\n      this.state.idCurrent++;\r\n      return (id);\r\n    }\r\n    else {\r\n      return (this.state.idAvailable.pop());\r\n    }\r\n  }\r\n  \r\n  deleteCardID(id) {\r\n    if (id === this.state.idCurrent - 1) {\r\n      this.state.idCurrent = id;\r\n    }\r\n    else {\r\n      this.state.idAvailable.push(id);\r\n    }\r\n  }\r\n\r\n  deleteCard(card_id) {\r\n    if (!(card_id in this.state.cards))\r\n      return;\r\n    let columns = this.state.columns;\r\n    let cards = this.state.cards;\r\n    columns[cards[card_id].column].cards.splice(columns[cards[card_id].column].cards.indexOf(card_id), 1);\r\n    delete cards[card_id];\r\n    this.updateState({ cards: cards, columns: columns, displayedCard: -1 });\r\n    this.deleteCardID(card_id);\r\n  }\r\n\r\n  archiveCard(card_id) {\r\n    console.log(this);\r\n    if (!(card_id in this.state.cards))\r\n      return;\r\n    let columns = this.state.columns;\r\n    let cards = this.state.cards;\r\n    let archived = this.state.archived;\r\n    columns[cards[card_id].column].cards.splice(columns[cards[card_id].column].cards.indexOf(card_id), 1);\r\n    archived.push(card_id);\r\n    this.updateState({ cards: cards, columns: columns, displayedCard: -1, archived: archived });\r\n  }\r\n\r\n  // If a card is pressed, to open it full-screen we save its ID into board.displayedCard\r\n  displayCard(card_id = -1) { // If a displayed card is closed, we clear the ID from board.displayedCard by putting -1 instead\r\n    if(!(card_id in this.state.cards))\r\n      card_id = -1;\r\n    this.updateState({ displayedCard: card_id });\r\n  }\r\n\r\n  render() {\r\n\r\n    this.next_id = this.getCardID();\r\n    this.deleteCardID(this.next_id);\r\n\r\n    // If the URL indicates there is a card displayed - display it\r\n    //if(window.location.pathname.match(/card=\\d+/)) {\r\n    //  let card_id = parseInt(window.location.pathname.match(/card=\\d+/)[0].replace(/[^0-9]/g, ''));\r\n    //  if(card_id in this.state.cards && this.state.displayedCard !== card_id)\r\n    //    this.displayCard(card_id);\r\n    //}\r\n    // If a card is open full-screen right now, make a component for it\r\n    let displayedCard = null;\r\n    if(window.location.pathname.match(/card=\\d+/)) {\r\n      let card_id = parseInt(window.location.pathname.match(/card=\\d+/)[0].replace(/[^0-9]/g, ''));\r\n      if(card_id === this.next_id) {\r\n        displayedCard = <Redirect to={`/board=${window.board.id}/card=${card_id}`} />;\r\n      } else {\r\n        let card = this.state.cards[card_id];\r\n        if(card === undefined)\r\n          displayedCard = <Redirect to={`/board=${window.board.id}`} />;\r\n        else\r\n          displayedCard = <DisplayedCard id={card.id} name={card.name} description={card.description} column={card.column} tags={card.tags} taskList={card.taskList} assignees={card.assignees} />;\r\n      }\r\n    }\r\n\r\n    let columns = [];\r\n    // For each column of cards in the board's list of card IDs\r\n    for (const i in this.state.columns) {\r\n      if (this.state.columns.hasOwnProperty(i)) {\r\n        const column_data = this.state.columns[i].cards;\r\n        const column = this.state.columns[i];\r\n        let card_list = []; // A list of card components for a column\r\n        // For each card ID in the column\r\n        column_data.forEach(card_id => {\r\n          const card = this.state.cards[card_id];\r\n          card_list.push( // Add the card's component into the list for a column\r\n            <Card key={card.id.toString()} id={card.id} name={card.name} description={card.description} column={card.column} tags={card.tags} taskList={card.taskList} assignees={card.assignees} />\r\n          );\r\n        });\r\n        // Now generate the column components, complete with their cards as children\r\n        columns.push(\r\n          <Column key={column.id.toString()} id={column.id} name={column.name} description={column.description} locked={column.locked}>\r\n            {card_list}\r\n          </Column>\r\n        );\r\n      }\r\n    }\r\n\r\n    // If a dialog is open full-screen right now, make a component for it\r\n    let dialog = null;\r\n    if (this.state.dialog === \"delete-confirmation\") {\r\n      dialog =<div className=\"dialog-container\">\r\n                <div id=\"delete-confirmation\" className=\"dialog\">\r\n                  <h2>Are you sure you want to delete this card?</h2>\r\n                  <p>You will not be able to recover it.</p>\r\n                  <input id=\"do-not-confirm\" type=\"checkbox\" name=\"do-not-confirm\" style={{display: \"none\"}} value=\"do-not-confirm\"/>\r\n                  <label className=\"checkbox\" htmlFor=\"do-not-confirm\">\r\n                    <span><svg viewBox=\"0 0 12 9\"><polyline points=\"1 5 4 8 11 1\"></polyline></svg></span>\r\n                    <span>Do not ask me again</span>\r\n                  </label> \r\n                  <div className=\"actions\">\r\n                    <button onClick={() => { window.board.updateState({dialog: -1});}}>Cancel</button>\r\n                    <div className=\"delete-buttons\">\r\n                      <button onClick={() => { window.board.updateState({dialog: -1}); window.board.archiveCard(window.board.state.displayedCard); window.preferences.warnOnDelete = !document.getElementById(\"do-not-confirm\").checked;}}>\r\n                        <Link to={`/board=${window.board.id}`}>Archive</Link>\r\n                      </button>\r\n                      <button onClick={() => { window.board.updateState({dialog: -1}); window.board.deleteCard(window.board.state.displayedCard); window.preferences.warnOnDelete = !document.getElementById(\"do-not-confirm\").checked;}} className=\"critical\">\r\n                        <Link to={`/board=${window.board.id}`}>Delete</Link>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>;\r\n    }\r\n\r\n    return (\r\n\r\n      <div>\r\n        <div className=\"row\" id=\"board\">\r\n          <noscript>You need to enable JavaScript to run this app.</noscript>\r\n          <div className=\"col-lg-1\"></div>\r\n          {columns}\r\n          <div className=\"col-lg-1\"></div>\r\n        </div>\r\n        <Switch>\r\n          <Route exact path=\"/board=:board_id/card=-1\">\r\n            <Redirect to={`/board=${this.id}`} />\r\n          </Route>\r\n          <Route path=\"/board=:board_id/card=:id\">\r\n            {displayedCard}\r\n          </Route>\r\n        </Switch>\r\n        {dialog}\r\n      </div>\r\n\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    shortcut.add(\"escape\", () => {\r\n      if(document.activeElement.contentEditable === \"true\") {\r\n        return;\r\n      }\r\n      //this.displayCard(-1);\r\n    });\r\n    shortcut.add(\"delete\", () => {\r\n      if(document.activeElement.contentEditable === \"true\")\r\n        return;\r\n      if(window.preferences.warnOnDelete)\r\n        window.board.updateState({dialog: \"delete-confirmation\"});\r\n      else\r\n        window.board.deleteCard(this.props.id);\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    shortcut.remove(\"escape\");\r\n    shortcut.remove(\"delete\");\r\n  }\r\n\r\n}\r\n\r\n\r\nBoard.defaultProps = {\r\n  cards: [],\r\n  columns: [],\r\n  users: {},\r\n  tags: {},\r\n  archived: [],\r\n  displayedCard: -1,\r\n  dialog: -1,\r\n  idCurrent: 1,\r\n  idReuseMode: false,\r\n  idAvailable: new BinaryHeap()\r\n};\r\n\r\nexport default Board;","export function getRandomInt(max) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nexport function getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== '') {\r\n    let cookies = document.cookie.split(';');\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      let cookie = cookies[i].trim();\r\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n","import React from \"react\";\r\nimport { getCookie } from \"../../utilities\";\r\n\r\nexport default class CSRFToken extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {csrftoken: getCookie(\"csrftoken\")};\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={this.state.csrftoken} />\r\n        );\r\n    };\r\n};","import React from \"react\";\r\nimport { ICON_CROSS } from \"../../svg/icons\";\r\nimport CSRFToken from \"../CSRFToken/CSRFToken\"\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        username: '',\r\n        password: ''\r\n      }\r\n    };\r\n\r\n    handle_change = (e) => {\r\n      const name = e.target.name;\r\n      const value = e.target.value;\r\n      this.setState(prevstate => {\r\n        const newState = { ...prevstate };\r\n        newState[name] = value;\r\n        return newState;\r\n      });\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div id=\"login-container\">\r\n                <form id=\"login-form\" className=\"col-12 col-sm-6 col-lg-4\" onSubmit={e => this.props.handle_login(e, this.state)}>\r\n                    <div className=\"login-form-card\">\r\n                        <h1>Sign in</h1>\r\n                        <h2>Username</h2>\r\n                        <div className=\"input-container\">\r\n                            <span className=\"filler\"></span>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                required={true}\r\n                                id=\"username-field\"\r\n                                value={this.state.username}\r\n                                onChange={this.handle_change}\r\n                                autoComplete=\"current_user\"\r\n                            />\r\n                            <span className=\"filler\"></span>\r\n                        </div>\r\n                        <h2>Password</h2>\r\n                        <div className=\"input-container\">\r\n                            <span className=\"filler\"></span>\r\n                            <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                required={true}\r\n                                id=\"password-field\"\r\n                                value={this.state.password}\r\n                                onChange={this.handle_change}\r\n                                autoComplete=\"current_password\"/>\r\n                            <span className=\"filler\"></span>\r\n                        </div>\r\n                        <div className=\"actions\">\r\n                            <button id=\"forgot-password-button\" onClick={ () => {console.log(\"Forgot password\")} }>Forgot password</button>\r\n                            <button type=\"submit\" onClick={ () => {console.log(\"Log in\")} }>Log in</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"login-right-buttons\">\r\n                        <button>\r\n                            {ICON_CROSS}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n                <div id=\"no-account-footer\">\r\n                    <span>Don't have an account?</span><a>Sign up</a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Login;\r\n\r\nLogin.propTypes = {\r\n    handle_login: PropTypes.func.isRequired\r\n  };","export default class User {\r\n\r\n    constructor(id, name, mail, avatar) {\r\n      this.id = id;\r\n      this.name = name;\r\n      this.mail = mail;\r\n      this.avatar = avatar;\r\n      window.users[id] = this;\r\n    }\r\n  \r\n  }","var lorem_ipsum = [\r\n    \"Vivamus vel risus sed metus ultricies sollicitudin sed in lectus.\",\r\n    \"Donec vitae augue vel ligula iaculis pharetra eu eu nunc.\",\r\n    \"Curabitur accumsan sem eget tortor mollis, consequat aliquet justo faucibus.\",\r\n    \"Cras nec diam euismod, fermentum lectus ut, suscipit tortor.\",\r\n    \"Maecenas a metus vitae urna dictum eleifend.\",\r\n    \"Curabitur elementum leo ut mattis tristique.\",\r\n    \"Morbi auctor tellus et dapibus pretium.\",\r\n    \"Vestibulum sagittis lacus sed feugiat commodo.\",\r\n    \"Cras pharetra libero at metus feugiat placerat.\",\r\n    \"Nullam vitae tellus semper sem dignissim pharetra.\",\r\n    \"Mauris ac velit at nibh tempor volutpat vitae et nunc.\",\r\n    \"Ut vitae mauris non nulla vehicula pretium.\",\r\n    \"Nullam ut dolor sollicitudin sapien dignissim ultricies.\",\r\n    \"Sed scelerisque tellus ut pulvinar iaculis.\",\r\n    \"Vivamus commodo risus vel ipsum pulvinar, quis dictum tortor elementum.\",\r\n    \"Quisque ac quam placerat, ultricies ipsum non, posuere dui.\",\r\n    \"Cras ut quam nec enim finibus pretium.\",\r\n    \"Morbi pulvinar eros et tortor pharetra molestie.\",\r\n    \"Curabitur rutrum libero ac enim pellentesque blandit.\",\r\n    \"Quisque varius nisl eget lectus feugiat rhoncus.\",\r\n    \"Fusce dapibus nulla nec odio ornare porttitor.\",\r\n    \"Phasellus eget nibh at libero mattis condimentum ut quis mauris.\",\r\n    \"Donec cursus dui et massa dapibus consectetur.\",\r\n    \"Morbi vel lorem porta, venenatis sem vehicula, tempor metus.\",\r\n    \"Integer quis mi vel nisi posuere imperdiet.\",\r\n    \"Curabitur rutrum odio id urna molestie, nec commodo metus blandit.\",\r\n    \"Phasellus gravida massa quis sem posuere, id luctus ipsum venenatis.\",\r\n    \"Morbi sed arcu imperdiet, feugiat velit ac, cursus mi.\",\r\n    \"Donec id magna sit amet urna tempor sodales.\",\r\n    \"Nullam tempor mi a ex sagittis volutpat.\",\r\n    \"Integer nec diam ultrices orci vestibulum ullamcorper id in erat.\",\r\n    \"Donec molestie lacus a scelerisque fringilla.\",\r\n    \"Maecenas eu est aliquam justo aliquet tempor.\",\r\n    \"Quisque dictum metus tempor, commodo quam in, molestie risus.\",\r\n    \"Phasellus condimentum eros vitae eros ultricies tristique.\",\r\n    \"Donec sed purus sit amet mauris eleifend consequat.\",\r\n    \"Phasellus tempor libero sed ornare consequat.\",\r\n    \"Phasellus ultricies augue ut enim sodales, sed dapibus lorem tempus.\",\r\n    \"Curabitur eu nibh congue, tincidunt odio in, dictum elit.\",\r\n    \"Donec tempus velit a pretium sagittis.\",\r\n    \"Nullam ut mauris vehicula, facilisis sapien eu, finibus lectus.\",\r\n    \"Vestibulum quis tellus eu orci posuere eleifend sit amet non lectus.\",\r\n    \"Donec egestas augue in orci condimentum porta.\",\r\n    \"Donec et lacus ac sapien accumsan rhoncus.\",\r\n    \"Sed dictum nisi a tempus hendrerit.\",\r\n    \"Donec porttitor ante quis lacus pretium congue.\",\r\n    \"Nulla nec risus vel velit lobortis dapibus.\",\r\n    \"Pellentesque quis felis vitae eros molestie rutrum.\",\r\n    \"Etiam molestie dolor placerat, semper dolor non, volutpat erat.\",\r\n    \"Sed ac nisl ullamcorper quam maximus blandit.\",\r\n    \"Nullam sed nisl malesuada, lacinia lacus sed, porttitor eros.\",\r\n    \"Aliquam porttitor lacus vel ornare pellentesque.\",\r\n    \"Curabitur vitae nunc ullamcorper, ultricies dolor at, rutrum odio.\",\r\n    \"Morbi a lacus a nibh gravida hendrerit.\",\r\n    \"Curabitur dapibus ligula molestie ante tristique, in tincidunt purus porttitor.\",\r\n    \"Fusce sed mi vel nunc mollis scelerisque quis ac massa.\",\r\n    \"Suspendisse rhoncus sem non fringilla finibus.\",\r\n    \"Praesent sagittis odio eget fringilla ornare.\",\r\n    \"Morbi hendrerit nisl varius, egestas nulla eu, gravida urna.\",\r\n    \"Vestibulum eget odio ac enim rutrum sollicitudin in eget turpis.\",\r\n    \"Aliquam facilisis neque venenatis dui pulvinar feugiat.\",\r\n    \"Proin iaculis metus non urna hendrerit vestibulum.\",\r\n    \"Donec eu nisi vel risus aliquam maximus.\",\r\n    \"Morbi convallis lorem id nibh tincidunt, vitae ultrices tortor malesuada.\",\r\n    \"Vestibulum sollicitudin nunc vel tincidunt consectetur.\",\r\n    \"Pellentesque vestibulum augue non cursus mattis.\",\r\n    \"Nunc vestibulum arcu aliquet, eleifend nisi ac, condimentum nisl.\",\r\n    \"Phasellus pulvinar tortor hendrerit pellentesque faucibus.\",\r\n    \"Integer feugiat erat id libero dictum tincidunt.\",\r\n    \"Nulla pharetra turpis a mollis cursus.\",\r\n    \"Duis et justo efficitur, malesuada turpis eu, tempus nulla.\",\r\n    \"Aliquam lobortis risus eu velit sagittis maximus.\",\r\n    \"Vestibulum nec est pharetra, rhoncus turpis eget, pretium tellus.\",\r\n    \"Morbi iaculis mi a ligula pharetra, nec venenatis augue porttitor.\",\r\n    \"Duis et sem eu dolor suscipit sollicitudin eget at massa.\",\r\n    \"Donec tempus urna nec mauris tristique, in sollicitudin lacus egestas.\",\r\n    \"Praesent fermentum odio et nisl auctor laoreet.\",\r\n    \"Cras mattis diam venenatis, elementum risus non, porta nisl.\",\r\n    \"Fusce molestie turpis eget ultricies dictum.\",\r\n    \"Aliquam efficitur libero vel luctus elementum.\",\r\n    \"Quisque non arcu nec justo vestibulum laoreet a sed nunc.\",\r\n    \"Sed laoreet mi in nisl cursus fringilla.\",\r\n    \"Duis finibus lectus non condimentum pretium.\",\r\n    \"Nunc a arcu hendrerit, vestibulum leo quis, condimentum nisi.\",\r\n    \"Phasellus vitae risus auctor, maximus purus in, blandit ligula.\",\r\n    \"Curabitur pretium est vel mauris pharetra maximus.\",\r\n    \"Morbi nec lectus nec felis vestibulum hendrerit at id orci.\",\r\n    \"Quisque id orci sit amet est convallis egestas.\",\r\n    \"Praesent laoreet odio tincidunt urna condimentum tincidunt.\",\r\n    \"Fusce tristique erat vitae tortor malesuada, ac aliquam turpis euismod.\",\r\n    \"Ut vel quam auctor, convallis leo non, finibus est.\",\r\n    \"Praesent vitae justo at diam iaculis venenatis.\",\r\n    \"Donec fermentum tortor id mauris fringilla, faucibus tristique metus placerat.\",\r\n    \"Proin sit amet tortor vitae purus bibendum mattis eu eget est.\",\r\n    \"Sed mollis leo sit amet ex vestibulum, nec faucibus felis mattis.\",\r\n    \"Vivamus lobortis odio at ipsum scelerisque, ac tristique sem molestie.\",\r\n    \"Donec ornare magna vel lacus lacinia, nec mattis nisi elementum.\",\r\n    \"Pellentesque faucibus mauris sed justo ultrices, at convallis odio efficitur.\",\r\n    \"Sed id erat non nulla ullamcorper aliquet.\",\r\n    \"Integer nec sem eu velit ullamcorper sollicitudin sed quis nunc.\",\r\n    \"Vivamus et metus iaculis, fringilla nunc vel, dapibus turpis.\",\r\n    \"Donec euismod nibh eu nisi efficitur, eget tempus elit eleifend.\",\r\n    \"Mauris pharetra diam at orci euismod, vel elementum felis molestie.\",\r\n    \"Donec viverra tortor quis arcu lacinia, et sodales erat viverra.\",\r\n    \"Phasellus efficitur sem nec ullamcorper semper.\",\r\n    \"Maecenas vel urna quis risus facilisis tincidunt.\",\r\n    \"Proin eu mi ut ante tristique lacinia et ac elit.\",\r\n    \"Mauris euismod magna ut efficitur maximus.\",\r\n    \"Maecenas consectetur elit vitae nulla dignissim, eget posuere sem convallis.\",\r\n    \"Curabitur tincidunt est vitae velit egestas, ac placerat dui consequat.\",\r\n    \"Pellentesque consequat arcu dignissim arcu interdum gravida at vitae eros.\",\r\n    \"Maecenas quis orci consectetur, tincidunt dui ac, euismod libero.\",\r\n    \"Sed consectetur magna sed turpis pharetra, ac cursus tortor egestas.\",\r\n    \"Nam in mauris nec arcu vulputate ornare.\",\r\n    \"Morbi a leo eleifend, bibendum ipsum vitae, faucibus eros.\",\r\n    \"Vivamus eget justo sit amet urna dictum euismod.\",\r\n    \"Mauris sagittis orci et rhoncus dictum.\",\r\n    \"Cras a ex eleifend, sollicitudin libero quis, pretium dolor.\",\r\n    \"Nullam tristique orci id varius vestibulum.\",\r\n    \"Donec non quam eu eros lobortis aliquam.\",\r\n    \"Ut ultrices lacus vel imperdiet semper.\",\r\n    \"Quisque a diam id turpis faucibus interdum.\",\r\n    \"Morbi luctus lectus sed scelerisque volutpat.\",\r\n    \"Nunc a lectus sed dolor molestie blandit.\",\r\n    \"Vestibulum dignissim arcu quis tempor dapibus.\",\r\n    \"In convallis quam ac lorem elementum, vitae molestie nibh mattis.\",\r\n    \"Fusce laoreet tortor eu augue interdum laoreet.\",\r\n    \"Pellentesque non mi id sem tempus mattis eu eu purus.\",\r\n    \"Vestibulum ornare erat sed vehicula lacinia.\",\r\n    \"In pulvinar ligula rutrum, sollicitudin lorem ultrices, varius dui.\",\r\n    \"Curabitur sit amet sem a elit sodales dignissim.\",\r\n    \"Vivamus bibendum leo ac vehicula pharetra.\",\r\n    \"Cras a arcu id nisl sagittis varius.\",\r\n    \"Maecenas faucibus tortor nec lacinia laoreet.\",\r\n    \"Donec sit amet nulla vel enim malesuada aliquam.\",\r\n    \"Phasellus in nibh tincidunt, gravida erat eget, sollicitudin purus.\",\r\n    \"Suspendisse eu est sed leo iaculis accumsan.\",\r\n    \"Nam mollis urna vitae tempus porttitor.\",\r\n    \"Donec eu mauris at lacus dictum dictum sit amet quis lectus.\",\r\n    \"Cras a orci sit amet massa gravida pharetra eu tempus arcu.\",\r\n    \"Curabitur quis nisl ac leo pharetra pulvinar et id enim.\",\r\n    \"Suspendisse tempus purus nec vestibulum feugiat.\",\r\n    \"Sed ullamcorper tortor placerat tellus ullamcorper ultrices.\",\r\n    \"Quisque eget massa efficitur, ullamcorper augue sed, cursus mi.\",\r\n    \"Suspendisse nec quam in tellus rutrum tincidunt at sit amet urna.\",\r\n    \"Vivamus faucibus augue sit amet cursus efficitur.\",\r\n    \"Maecenas auctor eros vel molestie malesuada.\",\r\n    \"Maecenas at mauris consequat, molestie nulla sed, tempor elit.\",\r\n    \"Etiam ut quam id lorem finibus ullamcorper.\",\r\n    \"In pretium nisi eget tellus varius elementum.\",\r\n    \"Morbi tempus leo vel pretium hendrerit.\",\r\n    \"Donec vitae nibh a leo facilisis aliquam id in risus.\",\r\n    \"Vestibulum interdum ipsum sed rutrum facilisis.\",\r\n    \"Duis lacinia mi in cursus sagittis.\",\r\n    \"Vivamus vitae urna ullamcorper, gravida eros et, suscipit arcu.\",\r\n    \"Fusce efficitur elit eget erat auctor vehicula.\",\r\n    \"Fusce blandit ipsum in arcu lacinia, venenatis volutpat dolor porttitor.\",\r\n    \"Sed aliquam eros sit amet dolor laoreet tempus.\",\r\n    \"Proin sagittis quam non leo convallis, vitae aliquet massa commodo.\",\r\n    \"Praesent vulputate risus eget metus accumsan efficitur.\",\r\n    \"Cras luctus dolor non tincidunt congue.\",\r\n    \"Nam vulputate est et tortor finibus, ut imperdiet arcu viverra.\",\r\n    \"Integer in erat malesuada, dapibus ante sed, convallis nibh.\",\r\n    \"Pellentesque in est ut tellus ultricies imperdiet in viverra sapien.\",\r\n    \"Pellentesque lobortis elit sed sapien auctor, eu hendrerit nunc feugiat.\",\r\n    \"Suspendisse at nisl vulputate, gravida nisi in, vehicula odio.\",\r\n    \"Quisque dictum justo rutrum felis imperdiet mollis.\",\r\n    \"Sed vestibulum ligula vitae ipsum imperdiet, sit amet sollicitudin justo convallis.\",\r\n    \"Duis quis quam mollis, eleifend odio in, pretium velit.\",\r\n    \"In ultricies ante vitae urna porta vehicula.\",\r\n    \"Fusce rutrum neque in metus vulputate varius.\",\r\n    \"Morbi vel purus a nisl venenatis blandit.\",\r\n    \"Aliquam luctus tellus nec malesuada laoreet.\",\r\n    \"Sed ut libero vitae risus viverra iaculis non non quam.\",\r\n    \"Vivamus faucibus dui eu est placerat lacinia a in nisi.\",\r\n    \"Quisque ornare nunc in leo vulputate, eget facilisis ligula aliquet.\",\r\n    \"Nunc semper tellus pellentesque, suscipit metus vel, convallis lorem.\",\r\n    \"In lacinia est eget imperdiet dapibus.\",\r\n    \"Donec sagittis lacus vel ligula consequat, nec finibus velit aliquam.\",\r\n    \"Nulla suscipit est eu ultricies ullamcorper.\",\r\n    \"Pellentesque bibendum enim at diam egestas aliquam.\",\r\n    \"Sed ac mauris nec mauris commodo varius.\",\r\n    \"Aliquam ornare ipsum pellentesque neque ultricies euismod.\",\r\n    \"Fusce dapibus tellus vel justo gravida fringilla.\",\r\n    \"In ac lorem sed sapien faucibus pulvinar.\",\r\n    \"Vestibulum facilisis ante feugiat neque pharetra porttitor.\"\r\n];\r\n\r\nexport default lorem_ipsum;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n//import { v4 as uuid } from \"uuid\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Board from \"./components/Board/Board\";\nimport Login from \"./components/Login/Login\";\n\nimport BinaryHeap from \"./BinaryHeap\";\nimport User from \"./User\"\nimport { getRandomInt } from \"./utilities\";\n\nimport lorem_ipsum from \"./lorem_ipsum\";\n\n\nwindow.board = {};\nwindow.preferences = {\n  theme: \"light\",\n  warnOnDelete: true\n};\nwindow.users = {};\nwindow.font_size = parseFloat(window.getComputedStyle(document.body, null).getPropertyValue('font-size'));\n\n\n//const getUUID = uuid;\n\n\nvar idAvailable = new BinaryHeap(),\n    idCurrent = -1;\n\nfunction getCardID() {\n  let id;\n  if (idAvailable.isEmpty()) {\n    id = idCurrent;\n    idCurrent++;\n    return (id);\n  }\n  else {\n    return (idAvailable.pop());\n  }\n}\n\n\nnew User(1, \"John Galt\", \"whoisjgalt@mail.com\", \"/static/imgs/avatar_ba@2x.png\");\nnew User(2, \"Amy House\", \"amywhoexactly@mail.com\", \"/static/imgs/avatar_cj@2x.png\");\nnew User(3, \"Michael\", \"mychael@mail.com\", \"/static/imgs/avatar_cx@2x.png\");\nnew User(4, \"Alice Boering\", \"nonotboring@mail.com\", \"/static/imgs/avatar_bz@2x.png\");\n\n\nlet id,\n    project_id,\n    board_id,\n    board_name,\n    tags = {},\n    columns_json = {},\n    cards_json = {};\n\nif(window.DEV) {\n  board_id = 0;\n  project_id = \"UHC\";\n  board_name = \"UHC Bugs\";\n  idCurrent = 1;\n  tags = {\n    0: { \"name\": \"performance\", \"color\": 0 },\n    1: { \"name\": \"feature\",     \"color\": 1 },\n    2: { \"name\": \"csharp\",      \"color\": 2 },\n    3: { \"name\": \"critical\",    \"color\": 3 },\n    4: { \"name\": \"python\",      \"color\": 4 },\n    5: { \"name\": \"installer\",   \"color\": 5 },\n    6: { \"name\": \"xs queries\",  \"color\": 6 },\n    7: { \"name\": \"lrm\",         \"color\": 7 },\n    8: { \"name\": \"ipsm\",        \"color\": 8 }\n  }\n  window.board.state = { tags: tags };\n  \n  columns_json = {\n    0: {\n      id: 0,\n      name: \"Reported\",\n      locked: false,\n      cards: []\n    },\n    1: {\n      id: 1,\n      name: \"Confirmed\",\n      locked: true,\n      cards: []\n    },\n    2: {\n      id: 2,\n      name: \"In development\",\n      locked: true,\n      cards: []\n    },\n    3: {\n      id: 3,\n      name: \"Testing\",\n      locked: true,\n      cards: []\n    },\n    4: {\n      id: 4,\n      name: \"Finished\",\n      locked: true,\n      cards: []\n    }\n  };\n  \n  id = getCardID();\n  cards_json[id] = {\n    id: id,\n    name: \"Call a function from its name/id in order to allow arrays of functions.\",\n    description: \"Add an option to call functions from its name/id for more flexibility, specifically to make lists of functions. Alternatively make some kind of function object.\",\n    column: 0,\n    tags: [0, 1, 6],\n    taskList: [{task: \"Call function from ID\", done: true}, {task: \"Call function by name\", done: false}, {task: \"Make a function object\", done: false}, {task: \"Test calling a function\", done: false}, {task: \"Log function calls\", done: false}],\n    assignees: [1, 3]\n  };\n  columns_json[0].cards.push(id);\n  for (let i = 0; i < 30; ++i) {\n    let random_int = getRandomInt(lorem_ipsum.length - 1);\n    let name = lorem_ipsum[random_int];\n    let column = getRandomInt(Object.keys(columns_json).length);\n    let id = getCardID();\n    let tags = [];\n    let task_list = [];\n    let assignees = [];\n    let description = \"\";\n    lorem_ipsum.splice(random_int, 1);\n    if (Math.random() > 0.3) {\n      random_int = getRandomInt(lorem_ipsum.length - 1);\n      if (Math.random() > 0.7)\n        description = name + '\\n' + lorem_ipsum.splice(random_int, 1);\n      else\n        description = lorem_ipsum.splice(random_int, 1);\n    }\n    if (Math.random() < 0.1) {\n      for (let j = 0; j < 2 + getRandomInt(7); ++j) {\n        random_int = getRandomInt(lorem_ipsum.length - 1);\n        let task = {task: lorem_ipsum.splice(random_int, 1)}\n        if (Math.random() < 0.2 + column / 6.0)\n          task.done = true;\n        task_list.push(task);\n      }\n    }\n    for (let j = 0; j < getRandomInt(4) * getRandomInt(3) + getRandomInt(4); ++j) {\n      let tag = getRandomInt(8);\n      if (tags.indexOf(tag) === -1)\n        tags.push(tag);\n    }\n    for (let j = 0; j < getRandomInt(4); ++j) {\n      let assignee = getRandomInt(4) + 1;\n      if (assignees.indexOf(assignee) === -1)\n        assignees.push(assignee);\n    }\n    cards_json[id] = {\n      id: id,\n      name: name,\n      description: description,\n      column: column,\n      tags: tags,\n      taskList: task_list,\n      assignees: assignees\n    };\n    columns_json[column].cards.push(id);\n  }\n  \n  console.log(cards_json);\n  console.log(columns_json);\n} else {\n  if(window.location.pathname.match(/board=\\d+/) === null || \n     window.location.pathname.match(/board=\\d+/).length == 0)\n    board_id = -1;\n  else\n    board_id = parseInt(window.location.pathname.match(/board=\\d+/)[0].replace(/[^0-9]/g, ''));\n\n  let column_ids,\n      card_ids;\n  \n  \n  fetch(`http://localhost:8000/api/boards/${board_id}/`, {\n    headers: {\n      Authorization: `JWT ${localStorage.getItem('token')}`\n    }\n  }).then(res => res.json()).then(result => {\n      project_id = result.project_id;\n      board_name = result.name;\n      column_ids = result.columns;\n      card_ids = result.cards;\n      console.log(result)\n\n      column_ids.forEach(column_id => {\n        fetch(`http://localhost:8000/api/columns/${column_id}/`, {\n          headers: {\n            Authorization: `JWT ${localStorage.getItem('token')}`\n          }\n        }).then(res => res.json()).then((result) => {\n          let new_column = {\n            id: column_id,\n            name: result.name,\n            description: result.description,\n            locked: result.is_private,\n            cards: result.cards\n          };\n          columns_json[column_id] = new_column;\n          console.log(result);\n        }).catch((error) => { console.log(error); });\n      });\n  \n      card_ids.forEach(card_id => {\n        fetch(`http://localhost:8000/api/cards/${card_id}/`, {\n          headers: {\n            Authorization: `JWT ${localStorage.getItem('token')}`\n          }\n        }).then(res => res.json()).then((result) => {\n          let new_card = {\n            id: result.local_id,\n            name: result.name,\n            description: result.description,\n            column: result.column,\n            tags: result.tags,\n            taskList: result.taskList,\n            assignees: result.assignees,\n            is_archived: result.is_archived,\n            creator: result.creator,\n            creation_date: result.creation_date\n          };\n          cards_json[result.local_id] = new_card;\n          console.log(result);\n        }).catch((error) => { console.log(error); });\n      });\n  });\n\n}\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logged_in: (localStorage.getItem('token') && localStorage.getItem('token') != \"undefined\") ? true : false,\n      username: ''\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.logged_in) {\n      fetch('http://localhost:8000/api/current_user/', {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      })\n        .then(res => res.json())\n        .then(json => {\n          this.setState({ username: json.username });\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    }\n  }\n\n  handle_login = (e, data) => {\n    e.preventDefault();\n    console.log(\"Logging in\");\n    console.log(data);\n    fetch('http://localhost:8000/api/token-auth/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(res => res.json())\n      .then(json => {\n        console.log(json);\n        localStorage.setItem('token', json.token);\n        this.setState({\n          logged_in: true\n        });\n      })\n      .then(() => {{\n        fetch('http://localhost:8000/api/current_user/', {\n          headers: {\n            Authorization: `JWT ${localStorage.getItem('token')}`\n          }\n        })\n          .then(res => res.json())\n          .then(json => {\n            this.setState({ username: json.username });\n          });\n        }\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  handle_signup = (e, data) => {\n    e.preventDefault();\n    fetch('http://localhost:8000/api/users/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(res => res.json())\n      .then(json => {\n        localStorage.setItem('token', json.token);\n        this.setState({\n          logged_in: true,\n          username: json.username\n        });\n      });\n  };\n\n  handle_logout = () => {\n    localStorage.removeItem('token');\n    this.setState({ logged_in: false, username: '' });\n  };\n\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/board=:id\">\n            {this.state.logged_in || window.DEV\n              ? this.props.children\n              : <Redirect to=\"/login\" />}\n          </Route>\n          <Route path=\"/login\">\n            <Login handle_login={this.handle_login} />\n          </Route>\n          <Route exact path=\"/\">\n            <Redirect to=\"/login\" />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\n\nfunction render() {\n  ReactDOM.render(\n    <App>\n      <Board id={board_id} project_id={project_id} name={board_name} tags={tags} columns={columns_json} cards={cards_json} idAvailable={idAvailable} idCurrent={idCurrent} />\n    </App>,\n    document.getElementById(\"app-container\")\n  );\n}\n\nsetTimeout(render, window.DEV? 0 : 1000);\n\n\ndocument.getElementsByTagName(\"body\")[0].className = \"theme-\" + window.preferences.theme;\n"],"sourceRoot":""}